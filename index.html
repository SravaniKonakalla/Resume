<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bala Sravani Konakalla | Finance Professional</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Montserrat -->
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chart.js for dashboard charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <style>
        /* --- COLOR PALETTE --- */
        /* BG #F5F1EA • Surface #FFFFFF • Text #221C2A */
        /* Accent #463863 • Accent-soft #D1A46E • Muted #9C8FA7 */

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #F5F1EA;
            color: #221C2A;
            overflow-x: hidden;
        }
        #finance-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
        }
        .card-effect {
            background: #FFFFFF; border: 1px solid #e2e8f0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
        }
        .card-effect:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 15px -3px rgba(70, 56, 99, 0.1), 0 4px 6px -4px rgba(70, 56, 99, 0.1), 0 0 25px rgba(209, 164, 110, 0.8);
        }
        header { transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        header.nav-hidden { transform: translateY(-100%); }
        .page { display: none; }
        .page.active { display: block; }
        .nav-container { 
            display: inline-block; background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); 
            border: 1px solid #e2e8f0; border-radius: 9999px; 
            padding: 0.5rem; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1); 
            max-width: 100%;
        }
        #main-nav { display: flex; align-items: center; overflow-x: auto; scrollbar-width: none; }
        #main-nav::-webkit-scrollbar { display: none; }
        .nav-link { 
            flex-shrink: 0; padding: 0.75rem 1.5rem; border-radius: 9999px; 
            transition: all 0.3s ease; font-weight: 500; color: #221C2A;
            cursor: pointer; font-size: 1rem;
        }
        .nav-link.active { background-color: #F5F1EA; color: #463863; font-weight: 700; }
        .nav-link:not(.active):hover { background-color: #F5F1EA; }
        
        /* --- PARALLAX BANNER STYLES --- */
        .parallax-banner {
            height: 100vh; /* UPDATED: Make banner full screen height */
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        .parallax-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(34, 28, 42, 0.65); /* Darker overlay for better readability */
        }
        .parallax-content {
            position: relative;
            z-index: 1;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .parallax-banner.visible .parallax-content {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- LIGHTBOX STYLES --- */
        #lightbox {
            transition: opacity 0.3s ease-in-out;
        }
        #lightbox-img {
            transition: transform 0.3s ease-in-out;
            max-width: 90vw;
            max-height: 90vh;
        }
        #lightbox.hidden #lightbox-img {
            transform: scale(0.9);
        }


        /* --- PROJECT PAGE SPECIFIC STYLES --- */
        .project-section-fade-in {
            opacity: 0;
            transform: translateY(16px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .project-section-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .chipotle-logo-glow {
            box-shadow: 0 0 25px rgba(173, 47, 31, 0.5); /* Chipotle Red */
        }
        .btn-primary, .explore-btn {
            background-color: #463863; color: #FFFFFF;
            transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, background-color 0.2s ease;
        }
        .btn-primary:hover, .explore-btn:hover {
            transform: scale(1.03);
            background-color: #D1A46E; /* Muted gold on hover */
            box-shadow: 0 8px 20px -5px rgba(209, 164, 110, 0.4);
        }
        .btn-secondary {
            background-color: #F5F1EA; color: #463863; border: 1px solid #463863;
            transition: transform 0.15s ease-out, background-color 0.15s ease-out;
        }
        .btn-secondary:hover {
            transform: scale(1.02);
            background-color: #eaddd0;
        }
        .btn-icon {
            background-color: transparent; color: #463863;
            transition: transform 0.15s ease-out, color 0.15s ease-out;
        }
        .btn-icon:hover {
            transform: scale(1.05);
            color: #D1A46E;
        }
        
        /* Other original styles */
        #success-toast {
            position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%);
            background-color: #10b981; color: white; padding: 1rem 1.5rem;
            border-radius: 0.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 100; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        #success-toast.show {
            opacity: 1; visibility: visible; transform: translate(-50%, -10px);
        }
        
        .logo-holder { width: 60px; height: 60px; background: #FFFFFF; border-radius: 50%; padding: 4px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 10px rgba(100, 150, 255, 0.7), 0 0 20px rgba(100, 150, 255, 0.5); transition: box-shadow 0.3s ease; }
        .logo-holder img { width: 100%; height: 100%; border-radius: 50%; object-fit: contain; }
        .skill-logo-holder { width: 48px; height: 48px; background: #FFFFFF; border-radius: 50%; padding: 4px; box-shadow: 0 0 8px rgba(100, 150, 255, 0.6), 0 0 15px rgba(100, 150, 255, 0.4); }
        .skill-logo-holder img { width: 100%; height: 100%; border-radius: 50%; object-fit: contain; }
        
        .education-card, .certification-card { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease, box-shadow 0.3s ease; }
        .education-card.visible, .certification-card.visible { opacity: 1; transform: translateY(0); }
        .education-card:hover, .certification-card:hover { transform: translateY(-8px); box-shadow: 0 12px 20px -4px rgba(70, 56, 99, 0.15), 0 0 30px rgba(209, 164, 110, 0.7); }
        
        .education-card .logo-holder { width: 120px; height: auto; align-self: stretch; border-radius: 0; padding: 0; box-shadow: 0 0 10px rgba(100, 150, 255, 0.7), 0 0 20px rgba(100, 150, 255, 0.5); overflow: hidden; }
        .education-card .logo-holder img { border-radius: 0; width: 100%; height: 100%; object-fit: cover; }
        
        .certification-card { background-color: white; border-radius: 1rem; display: flex; overflow: hidden; width: 100%; max-width: 42rem; margin-left: auto; margin-right: auto; }
        .certification-card .logo-holder { width: 100px; height: 100px; padding: 0.5rem; align-self: center; margin-left: 1rem; }
        
        .cgpa-badge { background-color: #463863; color: #FFFFFF; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        /* --- NEW FAB and Modal Styles --- */
        #contact-fab {
            position: fixed;
            bottom: 1.5rem; /* bottom-6 */
            left: 1.5rem;  /* left-6 */
            z-index: 50;
        }

        #contact-fab .fab-content {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #463863; /* Accent Violet */
            color: #FFFFFF; /* White */
            border-radius: 9999px; /* rounded-full */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
            cursor: pointer;
            width: 3rem; /* w-12 */
            height: 3rem; /* h-12 */
            overflow: hidden; /* Crucial for the reveal effect */
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #contact-fab:hover .fab-content {
            width: 12rem; /* w-48 */
        }

        /* Pulse animation for initial load */
        @keyframes pulse-ring {
          0% { box-shadow: 0 0 0 0 rgba(70, 56, 99, 0.7), 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
          70% { box-shadow: 0 0 0 20px rgba(70, 56, 99, 0), 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
          100% { box-shadow: 0 0 0 0 rgba(70, 56, 99, 0), 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        }
        .fab-pulse {
            animation: pulse-ring 2s 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) 1;
        }

        #contact-fab .fab-icon {
            font-size: 1.375rem; /* ~22px */
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #contact-fab:hover .fab-icon {
            transform: translateX(-4.5rem);
        }

        #contact-fab .fab-text {
            white-space: nowrap;
            opacity: 0;
            font-weight: 600;
            position: absolute;
            transform: translateX(1rem);
            transition: opacity 0.2s ease-in-out 0.1s; /* Delayed fade-in */
        }
        
        #contact-fab:hover .fab-text {
            opacity: 1;
        }
        
        /* Desktop and larger screens */
        @media (min-width: 768px) {
            #contact-fab {
                bottom: auto;
                left: auto;
                right: 1.5rem; /* right-6 */
                top: 50%;
                transform: translateY(-50%);
            }
        }
        
        #contact-modal {
            position: fixed;
            inset: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        #contact-modal.visible {
            opacity: 1;
            visibility: visible;
        }
        #contact-modal .modal-overlay {
            position: absolute;
            inset: 0;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(4px);
        }
        #contact-modal .modal-content {
            position: relative;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            width: 100%;
            max-width: 32rem; /* 512px */
            padding: 2rem;
            transform: scale(0.95);
            transition: transform 0.3s ease-in-out;
        }
        #contact-modal.visible .modal-content {
            transform: scale(1);
        }

        /* --- NEW: Profile Image Placeholder --- */
        .profile-image-placeholder {
            border-radius: 50%;
            box-shadow:
                0 0 5px rgba(209, 164, 110, 0.8),  /* #D1A46E - Muted Gold */
                0 0 10px rgba(209, 164, 110, 0.6),
                0 0 20px rgba(70, 56, 99, 0.5),   /* #463863 - Accent Violet */
                0 0 40px rgba(70, 56, 99, 0.4);
            transition: box-shadow 0.3s ease-in-out;
        }
       
        /* --- Role Explorer --- */
        .exp-role-explorer-list button {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .exp-role-explorer-list button:hover {
            background-color: #FFFFFF;
            border-left-color: #D1A46E;
        }
        .exp-role-explorer-list button.active {
            background-color: #FFFFFF;
            border-left-color: #463863;
            transform: translateX(4px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .exp-role-explorer-content {
            transition: opacity 0.3s ease-in-out;
        }
        
        /* --- Finalized Technical Skills Styles --- */
        .skills-matrix-container {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .skill-matrix-item {
            background-color: #F5F1EA;
            border-radius: 0.5rem;
            padding: 1.5rem 1rem;
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
            border: 1px solid transparent;
        }
        .skill-matrix-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(70, 56, 99, 0.1);
            background-color: #FFFFFF;
            border-color: #D1A46E;
        }
        .skill-matrix-item .skill-logo-holder {
            margin: 0 auto 1rem;
        }
        .skill-matrix-item h4 {
            font-weight: 600;
            color: #463863;
        }

        /* --- Chipotle Project Styles --- */
        .chipotle-forecast-section .chart-frame,
        .historical-analysis-section .chart-frame {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
            padding: 0.75rem;
            position: relative;
            overflow: hidden;
        }
        .chipotle-forecast-section .chart-frame img,
        .historical-analysis-section .chart-frame img {
            border-radius: 0.25rem;
            transition: opacity 0.4s ease-in-out;
        }
        
        .mini-card-toggle {
            background-color: #fff;
            border: 2px solid transparent;
            transition: all 0.2s ease-in-out;
        }
        .mini-card-toggle[aria-pressed="true"] {
            border-color: #463863;
            box-shadow: 0 4px 12px rgba(70, 56, 99, 0.2);
            transform: scale(1.03);
        }
        .horizontal-scroller {
            display: flex;
            overflow-x: auto;
            padding-bottom: 1rem;
            scrollbar-width: none;
        }
        .horizontal-scroller::-webkit-scrollbar {
            display: none;
        }
        .horizontal-scroller .mini-card-toggle {
            flex-shrink: 0;
        }

    </style>
</head>
<body class="antialiased">
    
    <div id="progress-bar-container" class="fixed bottom-0 left-0 right-0 h-1.5 z-[60]">
        <div id="progress-bar" class="h-full bg-[#C58940] transition-all duration-100 ease-linear" style="width: 0%;"></div>
    </div>

    <canvas id="finance-canvas"></canvas>
    <div id="success-toast">
        <i class="fas fa-check-circle mr-2"></i> Message sent successfully! I'll get back to you soon.
    </div>

    <header class="fixed top-0 left-0 right-0 z-50 py-4">
        <div class="container mx-auto flex justify-center items-center px-4">
            <div class="nav-container">
                <nav id="main-nav"></nav>
            </div>
        </div>
    </header>

    <main class="relative z-10">
        <!-- NOTE: Removed pt-24 from main to allow hero to be full screen -->
    </main>

    <footer class="py-6 text-center text-gray-500 relative z-10">
        <p>&copy; <span id="copyright-year"></span> Bala Sravani Konakalla. All Rights Reserved.</p>
    </footer>

    <!-- Lightbox for resume and certificates -->
    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 z-[100] hidden items-center justify-center p-4">
        <button id="lightbox-close" class="absolute top-4 right-4 text-white text-4xl opacity-80 hover:opacity-100 transition-opacity">&times;</button>
        <img id="lightbox-img" src="" alt="Full view" class="max-w-full max-h-full rounded-lg shadow-2xl">
    </div>

    <!-- Floating Action Button -->
    <div id="contact-fab">
        <div class="fab-content fab-pulse">
            <i class="fab-icon fas fa-comments"></i>
            <span class="fab-text">Let's discuss</span>
        </div>
    </div>
    
    <!-- Contact Modal -->
    <div id="contact-modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4">
        <div class="modal-overlay absolute inset-0"></div>
        <div class="modal-content relative bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg">
             <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl transition-colors">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center" style="color: #221C2A;">Let’s talk — I’m open to new opportunities</h3>
             <form class="contact-form w-full" action="" method="POST">
                <div class="space-y-4 text-left">
                    <input type="text" name="name" placeholder="Your Name" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="--tw-ring-color: #463863;">
                    <input type="email" name="email" placeholder="Your Email" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="--tw-ring-color: #463863;">
                    <textarea name="message" rows="4" placeholder="Your Message" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="--tw-ring-color: #463863;"></textarea>
                </div>
                <div class="mt-6">
                    <button type="submit" class="btn-primary font-bold py-3 px-6 rounded-lg transition-all duration-300 w-full">
                        Send Message
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- DATA SOURCE ---
            const portfolioData = {
                pages: [
                    { id: 'home', label: 'Home' },
                    { id: 'experience', label: 'Experience' },
                    { id: 'projects', label: 'Projects' },
                    { id: 'education', label: 'Education' },
                    { id: 'resume', label: 'Resume' }
                ],
                home: {
                    name: "Bala Sravani Konakalla",
                    title: "Analytical Finance Professional",
                    about: "A dedicated and detail-oriented finance professional with a passion for uncovering insights from data. Eager to apply my skills in a challenging and growth-oriented environment.",
                    summary: "Expertise in credit monitoring, financial modeling, and compliance. Skilled in SAP BPC and advanced Excel, with a proven track record of optimizing workflows and ensuring regulatory compliance.",
                },
                imageUrls: {
                    profile: "Profile pic.svg.png",
                    certFinancialModeling: 'https://placehold.co/400x250/F5F1EA/9C8FA7?text=Upload+Certificate',
                    certBloomberg: 'https://placehold.co/400x250/F5F1EA/9C8FA7?text=Upload+Certificate',
                    certMicrosoft: 'https://placehold.co/400x250/F5F1EA/9C8FA7?text=Upload+Certificate',
                    resumePreview: "Resume.png",
                    chipotleHistFinancials: 'Chip graph 1.png',
                    chipotleStoresVsSss: 'Chip Graph 2.png',
                    chipotleForecastBase: 'Chip Graph 4 Base.png',
                    chipotleForecastBear: 'Chip Graph 5 worst.png',
                    chipotleForecastBull: 'Chip Graph 3 Best.png',
                    dashboardHistFinancials: 'https://placehold.co/600x400/FFFFFF/463863?text=Upload+Graph',
                    dashboardStoresVsSss: 'https://placehold.co/600x400/FFFFFF/463863?text=Upload+Graph',
                    dashboardBull: 'https://placehold.co/600x400/FFFFFF/463863?text=Upload+Graph',
                    dashboardBase: 'https://placehold.co/600x400/FFFFFF/463863?text=Upload+Graph',
                    dashboardBear: 'https://placehold.co/600x400/FFFFFF/463863?text=Upload+Graph',
                    logoTcs: 'TCS LOGO.svg.png',
                    logoMercedes: 'Benz Logo.svg.png',
                    logoGitam: 'Gitam Logo.svg.png',
                    logoVishnu: 'Vishnu Logo.svg.png',
                    logoSap: 'https://placehold.co/60x60/FFFFFF/463863?text=SAP',
                    logoFinancialModeling: 'CFI Logo.jpg',
                    logoTableau: 'https://placehold.co/60x60/FFFFFF/463863?text=Tableau',
                    logoExcel: 'https://placehold.co/60x60/FFFFFF/463863?text=Excel',
                    logoOffice: 'https://placehold.co/60x60/FFFFFF/463863?text=Office',
                    logoCompliance: 'https://placehold.co/60x60/FFFFFF/463863?text=Comp',
                    logoCreditMonitoring: 'https://placehold.co/60x60/FFFFFF/463863?text=CM',
                    logoDataAnalysis: 'https://placehold.co/60x60/FFFFFF/463863?text=DA',
                    logoMicrosoft: 'Microsoft Logo.jpg',
                    logoChipotle: 'chipotle logo.png',
                    logoBloomberg: 'Bloomberg Logo.jpg'
                },
                experiences: [
                    { 
                        type: 'job',
                        date: 'Jun, 2024 – Present', 
                        title: 'Financial Systems & Business Analyst', 
                        company: 'Tata Consultancy Services',
                        companyFull: 'Tata Consultancy Services | Hyderabad',
                        logoUrlKey: 'logoTcs',
                        duties: [
                           '<strong>Financial Forecasting & Analysis:</strong> Integrated the real-time foreign exchange (FX) data into SAP BPC, enhancing the accuracy of multi-currency financial forecasts and empowering clients with robust scenario-planning and risk assessment capabilities.',
                           '<strong>Data Integrity & Financial Close:</strong> Executed critical Role Forward activities with 100% accuracy by transferring prior-period closing balances into new periods for month-end and quarter-end closes safeguarding data integrity for regulatory reporting.',
                           '<strong>Advanced Financial Modeling & Automation:</strong> Re-engineered logic scripts to automate complex financial calculations and currency translations, directly improving the speed and reliability of the core consolidation process.',
                           '<strong>Functional Testing & Controls Validation:</strong> Led comprehensive functional checkouts of the environment, validating system integrity across all financial planning, budgeting, and consolidation modules to ensure unwavering system reliability for stakeholders.',
                           '<strong>Role ID Administration & Access Controls:</strong> Created and updated Role IDs and “cost-center mappings” within the BPC security model, applying Excel automation to accelerate provisioning and audit readiness.',
                           '<strong>Strategic Innovation:</strong> Proposed a pioneering "Finance Digital Twin" concept—an AI-driven, real-time virtual replica of a company\'s financial ecosystem—to enable dynamic what-if analysis.'
                        ],
                        domain: [
                           '<strong>Tools & platforms:</strong> SAP BPC; Excel (Advanced)',
                           '<strong>Finance & Analytics:</strong> Financial forecasting; Multi-currency (FX) forecasting; Financial consolidation; Currency translation',
                           '<strong>Data & automation:</strong> Script automation; Role-forward activities; Data integrity; Functional Checkouts, Cost-center mapping',
                           '<strong>Strategy & innovation:</strong> Scenario planning; Finance Digital Twin'
                        ]
                    },
                    { 
                        type: 'internship',
                        date: 'Jun 2023 – Aug 2023', 
                        title: 'Sales Trainee - Internship', 
                        company: 'Silver Star Mercedes Benz', 
                        companyFull: 'Silver Star Mercedes Benz | Hyderabad',
                        logoUrlKey: 'logoMercedes',
                        duties: [
                            '<strong>Credit & Working capital analysis:</strong> Conducted financial-statement analysis and risk scoring to assess customer creditworthiness, prioritising collections and cutting payment delays by 10%. Reviewed receivables and payables and recommended actions that tightened the cash-conversion cycle and strengthened short-term liquidity.',
                            '<strong>Accounts payable & vendor management:</strong> Managed full AP lifecycle—invoice validation, dispute resolution and vendor reconciliation—reducing late fees and strengthening supplier relationships.',
                            '<strong>Financial modelling & ROI Analysis:</strong> Conducted detailed cost-benefit analyses for major marketing campaigns, translating performance data into actionable reports that identified high-ROI initiatives and guided the strategic reallocation of the marketing budget.',
                            '<strong>Receivables optimisation:</strong> Collaborated with cross-functional teams to streamline the end-to-end accounts payable and receivable cycles, enhancing vendor relationships through timely payments and improving the company\'s overall cash flow position.'
                        ],
                        domain: [
                           '<strong>Tools & platforms:</strong> Excel (Advanced); Tableau',
                           '<strong>Working capital & credit:</strong> Credit analysis; Risk scoring; Receivables optimisation; Short-term liquidity management',
                           '<strong>Payables & vendor management:</strong> Accounts payable lifecycle; Invoice validation',
                           '<strong>Financial analysis & modelling:</strong> Financial modelling; ROI analysis'
                        ]
                    }
                ],
                skillsByCategory: { 
                    "Software & Platforms": [
                        { name: 'SAP BPC', logoUrlKey: 'logoSap' },
                        { name: 'Tableau', logoUrlKey: 'logoTableau' },
                        { name: 'MS Office Suite', logoUrlKey: 'logoOffice' },
                    ],
                    "Core Competencies": [
                        { name: 'Financial Modeling', logoUrlKey: 'logoFinancialModeling' },
                        { name: 'Data Analysis', logoUrlKey: 'logoDataAnalysis' },
                        { name: 'Compliance', logoUrlKey: 'logoCompliance' },
                        { name: 'Credit Monitoring', logoUrlKey: 'logoCreditMonitoring' },
                    ],
                    "Technical Skills": [
                         { name: 'Advanced Excel', logoUrlKey: 'logoExcel' },
                    ]
                },
                educations: [
                    { 
                        degree: 'Masters of Business Administration', 
                        specialization: 'Finance & Marketing',
                        school: 'GITAM School of Business', 
                        location: 'Visakhapatnam',
                        date: '2022 - 2024', 
                        details: 'CGPA: 8.19',
                        logoUrlKey: 'logoGitam' 
                    },
                    { 
                        degree: 'Bachelor of Technology', 
                        specialization: 'Civil Engineering',
                        school: 'Shri Vishnu Engineering College for Women', 
                        location: 'Bhimavaram',
                        date: '2017 - 2021', 
                        details: 'CGPA: 8.29',
                        logoUrlKey: 'logoVishnu'
                    }
                ],
                certifications: [
                    { 
                        id: 'fmva',
                        title: 'Financial Modeling & Valuation Analyst (FMVA)', issuer: 'Corporate Finance Institute (CFI)',
                        logoUrlKey: 'logoFinancialModeling', issueDate: 'Jun 2025',
                        imageUrlKey: 'certFinancialModeling'
                    },
                     { 
                        id: 'bloomberg',
                        title: 'Bloomberg Market Concepts', issuer: 'Bloomberg',
                        logoUrlKey: 'logoBloomberg', issueDate: 'Sep 2025',
                        imageUrlKey: 'certBloomberg'
                    },
                    { 
                        id: 'microsoft',
                        title: 'Microsoft 365 Fundamentals', issuer: 'Microsoft (Coursera)', 
                        logoUrlKey: 'logoMicrosoft', issueDate: 'Apr 2023',
                        imageUrlKey: 'certMicrosoft'
                    }
                ],
                contact: {
                    email: 'sravikonakalla@gmail.com',
                    linkedin: 'https://linkedin.com/in/kbalasravani',
                    formspree_url: 'https://formspree.io/f/myznbzer'
                },
                 chipotleProject: {
                    dashboardData: {
                        valuationRange: "$2800 – $3200",
                        impliedUpside: "+8%",
                        wacc: "7.5%",
                        terminalGrowth: "3.0%"
                    }
                }
            };

            const mainContainer = document.querySelector('main');
            const navContainer = document.getElementById('main-nav');
            
            // --- SETUP FUNCTIONS ---
            const setupProjectPage = () => {
                const activePage = document.getElementById('page-projects');
                if (!activePage) return;

                const sections = activePage.querySelectorAll('.project-section-fade-in');
                const sectionObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                sections.forEach(section => sectionObserver.observe(section));
                
                setupHistoricalAnalysis();
                setupProjectForecasts();
            };

            const setupHistoricalAnalysis = () => {
                const container = document.querySelector('.historical-analysis-section');
                if (!container) return;

                const toggles = container.querySelectorAll('.mini-card-toggle');
                const chartImg = container.querySelector('#historical-analysis-img');
                const interpContainer = container.querySelector('#historical-analysis-interp');

                const viewData = {
                    financials: {
                        imgSrc: portfolioData.imageUrls.chipotleHistFinancials,
                        alt: 'Historical financials: Revenue and Net Income, 2018–2024.',
                        interpHTML: `
                            <h3 class="font-bold text-lg mb-2">Operating Leverage Unlocked — Growth with Margin Expansion</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">The company demonstrates a clear trajectory of profitable growth, with revenues expanding from $7.5 billion in 2021 to $11.3 billion in 2024, while profitability has scaled even faster. Operating income and net income have more than doubled over the period, reflecting not just topline expansion but also strong operating leverage. Margins have steadily improved from 10.7% to 16.9%, underscoring disciplined cost management, economies of scale, and possibly enhanced pricing power. Importantly, the growth in net income closely tracks operating performance, suggesting gains are sustainable and not eroded by financing or tax pressures. Overall, the business is converting growth into higher-quality earnings, strengthening its competitive position and signaling resilience. The ability to drive both scale and efficiency simultaneously points to a maturing business model that is increasingly well-positioned to deliver long-term shareholder value.</p>`
                    },
                    stores: {
                        imgSrc: portfolioData.imageUrls.chipotleStoresVsSss,
                        alt: 'Stores vs same-store-sales: 2018–2024.',
                         interpHTML: `
                            <h3 class="font-bold text-lg mb-2">Strategic Evolution—From Recovery Surge to Sustainable Growth</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">This chart visualizes Chipotle's successful transition from a period of anomalous, recovery-driven growth to a more mature and sustainable growth algorithm. The dramatic 19.3% same-store sales growth (SSSG) in 2021 represents a post-pandemic rebound, a one-time event driven by the normalization of consumer behavior and strong digital sales. The key strategic insight is not the subsequent decline in the SSSG percentage, but its stabilization at a best-in-class level of 7.4% to 8.0% from 2022 to 2024. Maintaining comps in the high-single-digits is a sign of exceptional brand health and operational execution. As this intensive growth normalized, Chipotle strategically accelerated its extensive growth, expanding its physical footprint from approximately 3,000 to over 3,700 stores. This demonstrates a sophisticated, dual-engine strategy. The company is no longer reliant on post-COVID tailwinds but is now firing on two cylinders: a highly productive and stable existing store base, complemented by an aggressive and accelerating new unit development pipeline. This is the hallmark of a business that has successfully evolved to a durable, long-term growth phase.</p>`
                    }
                };
                
                // Set initial content
                interpContainer.innerHTML = viewData.financials.interpHTML;


                toggles.forEach(toggle => {
                    toggle.addEventListener('click', () => {
                        const view = toggle.dataset.view;
                        
                        toggles.forEach(t => t.setAttribute('aria-pressed', 'false'));
                        toggle.setAttribute('aria-pressed', 'true');
                        
                        chartImg.style.opacity = 0;
                        interpContainer.style.opacity = 0;

                        setTimeout(() => {
                            chartImg.src = viewData[view].imgSrc;
                            chartImg.alt = viewData[view].alt;
                            interpContainer.innerHTML = viewData[view].interpHTML;
                            chartImg.style.opacity = 1;
                            interpContainer.style.opacity = 1;
                        }, 300);
                    });
                });
            };

            function setupProjectForecasts() {
                const container = document.querySelector('.chipotle-forecast-section');
                if (!container) return;
                
                const toggles = container.querySelectorAll('.mini-card-toggle');
                const chartImg = container.querySelector('#forecast-analysis-img');
                const interpContainer = container.querySelector('#forecast-analysis-interp');
                
                const viewData = {
                     bear: { 
                        imgSrc: portfolioData.imageUrls.chipotleForecastBear,
                        alt:'Forecast — Net revenue (Bear scenario), 2025–2028.',
                        interpHTML: `
                            <h3 class="font-bold text-lg mb-2">Bear Scenario</h3>
                            <p class="text-sm text-gray-600 leading-relaxed mb-3">Recessionary pressures and increased competition lead to slower SSS growth and margin compression.</p>
                            <ul class="list-disc list-inside space-y-1 text-xs text-gray-600">
                                <li>Lower consumer discretionary spending impacts visit frequency.</li>
                                <li>Inability to fully pass on inflationary costs to consumers.</li>
                            </ul>`
                     },
                     base: { 
                        imgSrc: portfolioData.imageUrls.chipotleForecastBase,
                        alt:'Forecast — Net revenue (Base scenario), 2025–2028.',
                        interpHTML: `
                            <h3 class="font-bold text-lg mb-2">Base Scenario</h3>
                            <p class="text-sm text-gray-600 leading-relaxed mb-3">Assumes continued strong SSS growth, driven by menu innovation and digital channel strength, with moderate margin expansion.</p>
                            <ul class="list-disc list-inside space-y-1 text-xs text-gray-600">
                                <li>Steady new unit development, including Chipotlanes.</li>
                                <li>Effective management of food and labor costs.</li>
                            </ul>`
                     },
                     bull: { 
                        imgSrc: portfolioData.imageUrls.chipotleForecastBull,
                        alt:'Forecast — Net revenue (Bull scenario), 2025–2028.',
                        interpHTML: `
                            <h3 class="font-bold text-lg mb-2">Bull Scenario</h3>
                            <p class="text-sm text-gray-600 leading-relaxed mb-3">Successful international expansion and accelerated new unit growth in the U.S. drive higher-than-expected revenue.</p>
                             <ul class="list-disc list-inside space-y-1 text-xs text-gray-600">
                                <li>Significant market share gains in new international markets.</li>
                                <li>Higher-than-expected price realization from premium offerings.</li>
                            </ul>`
                     }
                };
                 
                // Set initial content
                interpContainer.innerHTML = viewData.base.interpHTML;

                toggles.forEach(toggle => {
                    toggle.addEventListener('click', () => {
                        const view = toggle.dataset.view;
                        
                        toggles.forEach(t => t.setAttribute('aria-pressed', 'false'));
                        toggle.setAttribute('aria-pressed', 'true');
                        
                        chartImg.style.opacity = 0;
                        interpContainer.style.opacity = 0;

                        setTimeout(() => {
                            chartImg.src = viewData[view].imgSrc;
                            chartImg.alt = viewData[view].alt;
                            interpContainer.innerHTML = viewData[view].interpHTML;
                            chartImg.style.opacity = 1;
                             interpContainer.style.opacity = 1;
                        }, 300);
                    });
                });
            }


            const showPage = (pageId) => {
                document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
                const newPage = document.getElementById(`page-${pageId}`);
                if (newPage) {
                    newPage.classList.add('active');
                    if (pageId === 'projects') {
                        setTimeout(() => {
                            setupProjectPage();
                        }, 50);
                    }
                }
                
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.pageId === pageId) {
                        link.classList.add('active');
                        link.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                    }
                });

                sessionStorage.setItem('activePage', pageId);

                if (pageId !== 'home') {
                    window.scrollTo(0, 0);
                }
                handleScrollAnimations(); 
            };

            portfolioData.pages.forEach(page => {
                const link = document.createElement('a');
                link.className = 'nav-link';
                if (page.id === 'home') link.classList.add('active');
                link.textContent = page.label;
                link.dataset.pageId = page.id;
                link.onclick = () => showPage(page.id);
                navContainer.appendChild(link);
            });
            
            const createHomePage = () => {
                const page = document.createElement('div');
                page.id = 'page-home';
                page.className = 'page active';

                const parallaxBanners = [
                    { 
                        id: 'experience', 
                        title: 'Work Experience', 
                        lines: [
                            'Hands-on experience across management, sales, and financial analysis roles.',
                            'Developing expertise through progressive responsibilities and real-world problem-solving.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'experience'
                    },
                    { 
                        id: 'education', 
                        title: 'Academic Background', 
                        lines: [
                            'Academic foundation in business and technology, strengthened by an MBA.',
                            'Blending quantitative skills with strategic thinking.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'education'
                    },
                    { 
                        id: 'projects', 
                        title: 'Key Projects', 
                        lines: [
                            'Real-time financial modeling and valuation projects, including Chipotle Mexican Grill FMVA® analysis.',
                            'Transforming theory into practical, data-driven insights.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1639322537228-f710d846310a?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'projects'
                    },
                    { 
                        id: 'resume', 
                        title: 'Resume', 
                        lines: [
                            'Certified in financial modeling and valuation, continuously upskilling in finance.',
                            'Explore my resume to see detailed experience and qualifications.'
                        ],
                         bg: 'https://images.unsplash.com/photo-1586281380349-632531db7ed4?q=80&w=1920&auto-format&fit=crop',
                        buttonPageId: 'resume'
                    }
                ];

                const parallaxBannersHTML = parallaxBanners.map(section => `
                    <div class="parallax-banner" style="background-image: url('${section.bg}')">
                        <div class="parallax-overlay"></div>
                        <div class="parallax-content p-8">
                            <h2 class="text-3xl md:text-4xl font-bold mb-4">${section.title}</h2>
                            <div class="max-w-2xl mx-auto mb-6 space-y-2 text-base md:text-lg">
                                <p>${section.lines[0]}</p>
                                <p>${section.lines[1]}</p>
                            </div>
                            <button onclick="document.getElementById('main-nav').querySelector('[data-page-id=${section.buttonPageId}]').click()" class="explore-btn font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center gap-2" aria-label="Explore ${section.title}">
                                Explore <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                `).join('');


                page.innerHTML = `
                    <div class="min-h-screen flex flex-col relative">
                        <section class="flex-grow flex items-center pt-40 pb-16">
                            <div class="container mx-auto px-6">
                               <div class="grid md:grid-cols-10 gap-8 items-center">
                                    <div class="md:col-span-3 flex justify-center md:justify-end">
                                        <div id="profile-image-container" class="relative profile-image-placeholder w-40 h-40 md:w-56 md:h-56">
                                            <img id="profile-image" src="${portfolioData.imageUrls.profile}" alt="Bala Sravani Konakalla" class="rounded-full w-full h-full object-cover border-4 border-white/50" onerror="this.onerror=null;this.src='https://placehold.co/224x224/F5F1EA/9C8FA7?text=Image+Not+Found';">
                                        </div>
                                    </div>
                                    <div class="md:col-span-7 text-center md:text-left">
                                        <h1 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight" style="color: #221C2A;">${portfolioData.home.name}</h1>
                                        <h2 class="text-2xl md:text-3xl mb-4" style="color: #463863;">${portfolioData.home.title}</h2>
                                        <p class="text-lg" style="color: #9C8FA7;">${portfolioData.home.about}</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <section class="pb-16 md:pb-24">
                            <div class="container mx-auto px-6 text-center">
                                <h3 class="text-3xl md:text-4xl font-bold mb-6" style="color: #221C2A;">Profile Summary</h3>
                                <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed" style="color: #463863;">${portfolioData.home.summary}</p>
                            </div>
                        </section>
                    </div>
                    
                    <div class="relative z-10">
                        ${parallaxBannersHTML}
                    </div>
                `;
                mainContainer.appendChild(page);
            };

            const createExperiencePage = () => {
                const page = document.createElement('div');
                page.id = 'page-experience';
                page.className = 'page';

                const experiencesHTML = portfolioData.experiences.map((exp, index) => {
                    const dutiesHTML = exp.duties.map(duty => `<li class="mb-2">${duty}</li>`).join('');
                    const domainHTML = exp.domain.map(d => `<li class="mb-2">${d}</li>`).join('');

                    return {
                        id: index,
                        ...exp,
                        html: {
                            explorerListItem: `
                                <button class="exp-role-explorer-list-item text-left p-4 rounded-lg w-full ${index === 0 ? 'active' : ''}" data-id="${index}">
                                    <div class="flex items-center gap-3">
                                        <div class="logo-holder !w-10 !h-10">
                                            <img src="${portfolioData.imageUrls[exp.logoUrlKey]}" alt="${exp.company} Logo">
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-sm">${exp.title}</h4>
                                            <p class="text-xs text-gray-500">${exp.company}</p>
                                        </div>
                                    </div>
                                </button>`,
                            explorerContent: `
                                <div class="flex-grow">
                                    <div class="flex justify-between items-start mb-1">
                                        <h3 class="text-xl font-bold">${exp.title}</h3>
                                        <p class="text-sm font-medium mt-1 flex-shrink-0 ml-4" style="color: #D1A46E;">${exp.date}</p>
                                    </div>
                                    <p class="font-semibold mb-4" style="color: #463863;">${exp.companyFull}</p>
                                    <h4 class="font-bold mb-2" style="color: #D1A46E;">Core Responsibilities:</h4>
                                    <ul class="list-disc pl-5 space-y-1 mb-4">${dutiesHTML}</ul>
                                    <h4 class="font-bold mb-2" style="color: #D1A46E;">Competencies:</h4>
                                    <ul class="list-disc pl-5 space-y-1">${domainHTML}</ul>
                                </div>`,
                        }
                    };
                });

                const skillsMatrixHTML = Object.values(portfolioData.skillsByCategory).flat().map(skill => `
                    <div class="skill-matrix-item">
                        <div class="skill-logo-holder !w-12 !h-12">
                            <img src="${portfolioData.imageUrls[skill.logoUrlKey]}" alt="${skill.name} Logo">
                        </div>
                        <h4>${skill.name}</h4>
                    </div>
                `).join('');

                page.innerHTML = `
                    <section class="pt-28 pb-16">
                        <div class="container mx-auto px-6">
                            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4" style="color: #221C2A;">Work Experience</h2>
                            <p class="text-center max-w-3xl mx-auto mb-12" style="color: #9C8FA7;">A detailed overview of my professional roles and responsibilities. Use the interactive menu on the left to switch between positions.</p>

                            <!-- Interactive Role Explorer -->
                            <div class="bg-white/50 p-4 rounded-lg shadow-inner">
                                <div class="grid md:grid-cols-12 gap-6">
                                    <div class="md:col-span-4 lg:col-span-3">
                                        <div class="exp-role-explorer-list space-y-2">
                                            ${experiencesHTML.map(exp => exp.html.explorerListItem).join('')}
                                        </div>
                                    </div>
                                    <div class="md:col-span-8 lg:col-span-9 bg-white p-6 rounded-lg shadow-md card-effect">
                                        <div id="exp-role-explorer-content">${experiencesHTML[0].html.explorerContent}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-center mt-20">
                                <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Technical Skills</h3>
                                
                                <div class="skills-matrix-container max-w-5xl mx-auto">
                                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-6">
                                        ${skillsMatrixHTML}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                `;
                mainContainer.appendChild(page);
            };

            const createEducationPage = () => {
                const page = document.createElement('div');
                page.id = 'page-education';
                page.className = 'page';

                const educationCardsHTML = portfolioData.educations.map(edu => `
                    <div class="education-card bg-white rounded-2xl flex overflow-hidden w-full max-w-2xl mx-auto">
                        <div class="logo-holder">
                            <img src="${portfolioData.imageUrls[edu.logoUrlKey]}" alt="${edu.school} Logo" onerror="this.src='https://placehold.co/120x120/FFFFFF/463863?text=Logo'; this.parentElement.style.boxShadow='none';">
                        </div>
                        <div class="py-6 pr-6 pl-8 relative flex-grow">
                            <h4 class="text-xl font-bold" style="color: #221C2A;">${edu.degree}</h4>
                            <p class="font-semibold text-md mb-1" style="color: #463863;">${edu.specialization}</p>
                            <p class="text-sm" style="color: #9C8FA7;">${edu.school}, ${edu.location}</p>
                            <p class="text-sm font-medium" style="color: #D1A46E;">${edu.date}</p>
                            <div class="absolute bottom-6 right-6">
                                <span class="cgpa-badge">${edu.details}</span>
                            </div>
                        </div>
                    </div>
                `).join('');

                const certificationCardsHTML = portfolioData.certifications.map(cert => `
                    <div class="certification-card">
                        <div class="logo-holder">
                            <img src="${portfolioData.imageUrls[cert.logoUrlKey]}" alt="${cert.issuer} Logo">
                        </div>
                        <div class="py-4 pr-4 pl-6 relative flex-grow flex items-center justify-between">
                            <div>
                                <h4 class="text-lg font-bold" style="color: #221C2A;">${cert.title}</h4>
                                <p class="font-semibold text-sm mb-1" style="color: #463863;">${cert.issuer}</p>
                                <p class="text-xs font-medium" style="color: #D1A46E;">Issued: ${cert.issueDate}</p>
                            </div>
                            <button class="view-cert-btn p-3 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#463863] transition-all"
                                   data-img-src="${portfolioData.imageUrls[cert.imageUrlKey]}"
                                   aria-label="View ${cert.title} certificate">
                               <i class="fas fa-external-link-alt text-[#463863]"></i>
                           </button>
                        </div>
                    </div>
                `).join('');

                page.innerHTML = `
                    <section class="pt-28 pb-16">
                        <div class="container mx-auto px-6">
                            <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Academic Background</h3>
                            <div class="space-y-8">
                                ${educationCardsHTML}
                            </div>
                            
                            <div class="cert-section mt-20">
                                <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Certifications</h3>
                                <div class="space-y-8">
                                    ${certificationCardsHTML}
                                </div>
                            </div>
                        </div>
                    </section>
                    `;
                mainContainer.appendChild(page);
            };

            const createResumePage = () => {
                const page = document.createElement('div');
                page.id = 'page-resume';
                page.className = 'page';

                page.innerHTML = `
                    <section class="pt-28 pb-16 min-h-[90vh] flex items-center">
                        <div class="container mx-auto px-4 text-center max-w-4xl">
                            <h2 class="text-3xl md:text-4xl font-bold mb-8" style="color: #221C2A;">Resume</h2>

                            <div class="bg-white rounded-2xl shadow-lg p-2 md:p-4">
                                <div class="overflow-auto rounded-lg" style="height: 70vh;">
                                    <img src="${portfolioData.imageUrls.resumePreview}" alt="Preview of Bala Sravani Konakalla’s Resume" class="w-full h-auto mx-auto cursor-pointer hover:opacity-90 transition-opacity" onclick="openLightbox(this.src, 'Bala Sravani Konakalla’s Resume')">
                                </div>
                            </div>

                            <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
                                 <a href="./Bala_Sravani_Konakalla_Resume.pdf" download="Bala_Sravani_Konakalla_Resume.pdf" class="btn-primary w-full sm:w-auto font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center justify-center gap-2" aria-label="Download Resume PDF">
                                    <i class="fas fa-download"></i> Download PDF
                                </a>
                                <a href="${portfolioData.contact.linkedin}" target="_blank" class="btn-secondary w-full sm:w-auto font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center justify-center gap-2" aria-label="View on LinkedIn">
                                    <i class="fab fa-linkedin"></i> View on LinkedIn
                                </a>
                            </div>
                        </div>
                    </section>
                `;
                mainContainer.appendChild(page);
            };
            
            const createProjectsPage = () => {
                const page = document.createElement('div');
                page.id = 'page-projects';
                page.className = 'page';

                page.innerHTML = `
                <!-- 1. Project Header Section -->
                <div id="project-header" class="project-section-fade-in relative overflow-hidden pt-40 pb-16">
                    <div class="absolute inset-0 z-0">
                        <svg class="absolute bottom-0 right-0 h-1/2 w-1/2 text-gray-500 opacity-[0.03]" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 597.995c-113.003 0-204.8-91.797-204.8-204.8s91.797-204.8 204.8-204.8 204.8 91.797 204.8 204.8-91.797 204.8-204.8 204.8zM512 256c-79.508 0-144.37 64.862-144.37 144.37s64.862 144.37 144.37 144.37 144.37-64.862 144.37-144.37-64.862-144.37-144.37-144.37z"/><path d="M512 1024c-282.77 0-512-229.23-512-512s229.23-512 512-512 512 229.23 512 512-229.23 512-512 512zM512 61.44C264.604 61.44 61.44 264.604 61.44 512s203.164 450.56 450.56 450.56 450.56-203.164 450.56-450.56-203.164-450.56-450.56-450.56z"/><path d="M961.075 613.99c-30.822-1.946-59.597-10.138-85.3-23.757l-2.048-1.229c-10.138-6.042-19.866-12.7-28.979-20.07-8.806-6.963-16.896-14.541-24.166-22.733-1.434-1.638-2.867-3.277-4.301-4.915-28.365-32.358-49.152-70.554-59.802-112.947-3.277-13.005-5.325-26.317-6.554-39.834-0.614-10.138-0.614-20.378-0.205-30.515 1.536-25.805 6.758-50.995 15.36-74.957 14.848-41.472 40.55-78.131 74.547-107.008 33.382-28.365 73.626-47.309 117.555-55.296 5.837-1.024 11.674-1.843 17.613-2.458 35.84-3.79 72.192-0.307 106.803 10.138 34.099 10.24 65.638 27.238 93.39 49.971 2.867 2.355 5.632 4.813 8.397 7.27 34.816 30.618 60.006 70.144 72.909 114.176 15.36 52.634 15.053 108.954-0.819 161.792-12.902 43.11-37.376 81.92-69.837 114.176-32.051 31.846-70.963 56.525-114.074 71.373-35.635 12.288-73.421 18.227-111.821 17.408-10.138-0.205-20.275-0.819-30.31-1.843z"/></svg>
                    </div>
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8 relative z-10">
                        <div class="grid md:grid-cols-12 gap-x-4 items-center text-center md:text-left">
                             <div class="md:col-span-2 flex justify-center md:justify-end">
                                <div class="w-28 h-28 md:w-32 md:h-32 bg-white rounded-full chipotle-logo-glow flex items-center justify-center flex-shrink-0 overflow-hidden">
                                    <img src="${portfolioData.imageUrls.logoChipotle}" alt="Chipotle Company Logo" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/128x128/FFFFFF/AD2F1F?text=CMG'">
                                </div>
                            </div>
                            <div class="md:col-span-10">
                                <h1 class="text-3xl md:text-4xl font-extrabold leading-tight">Chipotle Mexican Grill, Inc. (NYSE: CMG)</h1>
                                <h2 class="text-xl md:text-2xl font-semibold mt-2" style="color: #AD2F1F;">Financial Modeling & Multi-Scenario Forecasting</h2>
                            </div>
                        </div>

                        <div class="w-full border-t border-gray-300/60 my-8 md:my-12"></div>
                        
                        <div class="max-w-6xl mx-auto space-y-8">
                            <div class="bg-white/70 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-200 text-left">
                                <h3 class="font-bold text-lg mb-2">About the Company</h3>
                                <p class="text-sm leading-relaxed mb-4">
                                    Chipotle Mexican Grill is an American chain of fast-casual restaurants specializing in Mission burritos and tacos. Revenue is driven by high-volume sales in company-operated stores, with a focus on fresh ingredients and a customizable menu. Key growth levers include digital sales, new restaurant openings, and menu innovation.
                                </p>
                                <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center pt-4 border-t border-gray-200">
                                    <div><p class="font-bold">Analysis</p><p class="text-xs">Sep 2025</p></div>
                                    <div><p class="font-bold">Historical</p><p class="text-xs">2021 - 2024</p></div>
                                    <div><p class="font-bold">Forecast</p><p class="text-xs">2025 - 2028</p></div>
                                    <div><p class="font-bold">Sources</p><p class="text-xs">10-K Filings</p></div>
                                </div>
                            </div>
                             <div class="bg-white/70 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-200 text-left">
                                <h3 class="font-bold text-lg mb-2">About the Project</h3>
                                <p class="text-sm leading-relaxed mb-4">
                                   This project involves a comprehensive financial analysis and valuation of Chipotle Mexican Grill (CMG). Using FMVA® methodologies, it includes building a 3-statement financial model, forecasting future performance under multiple scenarios (Bull, Base, Bear), and deriving an intrinsic value per share through a Discounted Cash Flow (DCF) analysis.
                                </p>
                                <div class="flex flex-wrap justify-start gap-2 pt-4 border-t border-gray-200">
                                     <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full">3-Statement Modeling</span>
                                     <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">DCF Valuation</span>
                                     <span class="bg-yellow-100 text-yellow-800 text-xs font-semibold px-3 py-1 rounded-full">Scenario Analysis</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Historical Analysis Section -->
                <section class="historical-analysis-section py-12 md:py-16 bg-white/50 project-section-fade-in">
                     <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="text-center mb-8">
                             <h2 class="text-3xl md:text-4xl font-bold">Historical Analysis</h2>
                        </div>
                        <div class="flex justify-center gap-2 md:gap-4 mb-8 horizontal-scroller px-4">
                            <button class="mini-card-toggle text-left p-3 rounded-lg w-40 md:w-auto" data-view="financials" aria-pressed="true">
                                <h4 class="font-bold text-sm">Financials</h4>
                                <p class="text-xs text-gray-500">Revenue & Profit</p>
                            </button>
                            <button class="mini-card-toggle text-left p-3 rounded-lg w-40 md:w-auto" data-view="stores" aria-pressed="false">
                                <h4 class="font-bold text-sm">Stores vs SSS</h4>
                                <p class="text-xs text-gray-500">Units & Comps</p>
                            </button>
                        </div>
                        <div class="grid md:grid-cols-10 gap-6 md:gap-8 items-center">
                            <div class="md:col-span-6">
                                <div class="chart-frame">
                                    <img id="historical-analysis-img" src="${portfolioData.imageUrls.chipotleHistFinancials}" width="1280" height="720" loading="lazy" alt="Historical financials: Revenue and Net Income, 2018–2024.">
                                </div>
                            </div>
                            <div id="historical-analysis-interp" class="md:col-span-4 transition-opacity duration-300">
                                <!-- JS will inject content here -->
                            </div>
                        </div>
                    </div>
                </section>
                
                 <!-- Forecast Section -->
                <section class="chipotle-forecast-section py-12 md:py-16 project-section-fade-in">
                     <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="text-center mb-12">
                             <h2 class="text-3xl md:text-4xl font-bold">Forecast Scenarios — Bull / Base / Bear (2025–2028)</h2>
                        </div>
                         <div class="flex justify-center gap-2 md:gap-4 mb-8 horizontal-scroller px-4">
                            <button class="mini-card-toggle text-left p-3 rounded-lg w-40 md:w-auto" data-view="bull" aria-pressed="false">
                                <h4 class="font-bold text-sm">Bull Case</h4>
                                <p class="text-xs text-gray-500">Upside Scenario</p>
                            </button>
                            <button class="mini-card-toggle text-left p-3 rounded-lg w-40 md:w-auto" data-view="base" aria-pressed="true">
                                <h4 class="font-bold text-sm">Base Case</h4>
                                <p class="text-xs text-gray-500">Central Scenario</p>
                            </button>
                            <button class="mini-card-toggle text-left p-3 rounded-lg w-40 md:w-auto" data-view="bear" aria-pressed="false">
                                <h4 class="font-bold text-sm">Bear Case</h4>
                                <p class="text-xs text-gray-500">Downside Scenario</p>
                            </button>
                        </div>
                        <div class="grid md:grid-cols-10 gap-6 md:gap-8 items-center">
                            <div class="md:col-span-6">
                                <div class="chart-frame">
                                    <img id="forecast-analysis-img" src="${portfolioData.imageUrls.chipotleForecastBase}" width="1280" height="720" loading="lazy" alt="Forecast — Net revenue (Base scenario), 2025–2028.">
                                </div>
                            </div>
                            <div id="forecast-analysis-interp" class="md:col-span-4 transition-opacity duration-300">
                                <!-- JS will inject content here -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 3. Dashboard View Section -->
                <section id="dashboard" class="py-12 md:py-20 project-section-fade-in bg-white/50">
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl md:text-4xl font-bold">Project Dashboard - Key Results</h2>
                            <p class="mt-2 text-gray-600">A visual-first summary of valuation outcomes, forecasts, and scenario analysis.</p>
                        </div>
                        
                        <!-- Part 1: Top Highlight Row -->
                        <div class="bg-white rounded-xl shadow-lg p-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center mb-8">
                            <div>
                                <p class="text-2xl md:text-3xl font-bold text-[#463863]">[Upload Value]</p>
                                <p class="text-sm font-semibold text-gray-500">2028 Net Revenues Forecast</p>
                                <p class="text-xs text-gray-400 mt-1">Projected Revenues by 2028</p>
                            </div>
                            <div>
                                <p class="text-2xl md:text-3xl font-bold text-green-600">[Upload Range]</p>
                                <p class="text-sm font-semibold text-gray-500">Implied Share Price Range</p>
                                 <p class="text-xs text-gray-400 mt-1">Scenario-based valuation outcomes</p>
                            </div>
                            <div>
                                <p class="text-2xl md:text-3xl font-bold text-[#463863]">[Upload CAGR]</p>
                                <p class="text-sm font-semibold text-gray-500">SSS Growth CAGR (25-28)</p>
                                <p class="text-xs text-gray-400 mt-1">Sustained growth in comparable sales</p>
                            </div>
                            <div>
                                <p class="text-2xl md:text-3xl font-bold text-[#463863]">[Upload CAGR]</p>
                                <p class="text-sm font-semibold text-gray-500">Store Growth CAGR (25-28)</p>
                                <p class="text-xs text-gray-400 mt-1">Expansion in restaurant count</p>
                            </div>
                        </div>

                        <!-- Part 2: Five Analysis Boxes -->
                        <div>
                            <!-- Row 1: Historical Context -->
                            <div class="grid md:grid-cols-2 gap-8">
                                <div class="bg-white p-6 rounded-xl shadow-lg">
                                    <h3 class="font-bold text-lg mb-2">Historical Financial Performance</h3>
                                    <div class="w-full h-48 rounded-lg overflow-hidden mb-3 bg-gray-50">
                                        <img src="${portfolioData.imageUrls.dashboardHistFinancials}" alt="Graph of Historical Financial Performance" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-sm text-gray-600">Chipotle has delivered consistent revenue growth alongside improving margins and net income, reflecting strong operating leverage.</p>
                                </div>
                                <div class="bg-white p-6 rounded-xl shadow-lg">
                                    <h3 class="font-bold text-lg mb-2">Store Expansion vs Same-Store Sales</h3>
                                    <div class="w-full h-48 rounded-lg overflow-hidden mb-3 bg-gray-50">
                                        <img src="${portfolioData.imageUrls.dashboardStoresVsSss}" alt="Graph of Store Expansion vs Same-Store Sales" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-sm text-gray-600">Expansion in store count has complemented steady same-store sales, highlighting the dual drivers of Chipotle’s growth.</p>
                                </div>
                            </div>
                            <!-- Row 2: Forward Forecasts -->
                            <div class="grid md:grid-cols-3 gap-8 mt-8">
                               <div class="bg-white p-6 rounded-xl shadow-lg">
                                    <h3 class="font-bold text-lg mb-2">Bull Case Forecast</h3>
                                    <div class="w-full h-48 rounded-lg overflow-hidden mb-3 bg-gray-50">
                                         <img src="${portfolioData.imageUrls.dashboardBull}" alt="Graph of Bull Case Forecast" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-sm text-gray-600">In the Bull case, accelerated store expansion and stronger same-store sales drive higher revenues and valuations.</p>
                                </div>
                                <div class="bg-white p-6 rounded-xl shadow-lg">
                                    <h3 class="font-bold text-lg mb-2">Base Case Forecast</h3>
                                    <div class="w-full h-48 rounded-lg overflow-hidden mb-3 bg-gray-50">
                                         <img src="${portfolioData.imageUrls.dashboardBase}" alt="Graph of Base Case Forecast" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-sm text-gray-600">The Base case reflects a balanced trajectory with sustainable growth in revenues and a moderate valuation outlook.</p>
                                </div>
                                 <div class="bg-white p-6 rounded-xl shadow-lg">
                                    <h3 class="font-bold text-lg mb-2">Bear Case Forecast</h3>
                                    <div class="w-full h-48 rounded-lg overflow-hidden mb-3 bg-gray-50">
                                         <img src="${portfolioData.imageUrls.dashboardBear}" alt="Graph of Bear Case Forecast" class="w-full h-full object-cover">
                                    </div>
                                    <p class="text-sm text-gray-600">In the Bear case, slower store expansion and weaker sales result in downside risks to revenues and valuations.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>
                 <!-- 5. Investment Thesis Section -->
                <section id="investment-thesis" class="py-12 md:py-20 project-section-fade-in">
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="bg-white/70 backdrop-blur-sm p-8 rounded-xl shadow-lg border border-gray-200">
                             <h2 class="text-3xl font-bold mb-8 text-center">Chipotle's Growth Trajectory: An Investment Perspective</h2>
                            <div class="grid md:grid-cols-12 gap-8 items-center">
                                <div class="md:col-span-4">
                                    <div class="p-6 bg-gray-100 rounded-lg flex items-center justify-center">
                                        <svg class="w-full h-auto max-w-[200px] text-[#463863]" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M4 4h4v16H4V4zm6 6h4v10h-4V10zm6-4h4v14h-4V6z" fill-opacity="0.3"/>
                                            <path d="M5 20V7h2v13H5zm6-10v10h2V10h-2zm6-3v13h2V7h-2z"/>
                                            <path d="M2.5 19.5h19v2h-19v-2z"/>
                                            <path d="M17 5l-4.5 4.5-2.5-2.5L3 14" stroke="#D1A46E" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M13 5h4v4" stroke="#D1A46E" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="md:col-span-8">
                                    <p class="text-gray-600 leading-relaxed">The base-case DCF analysis suggests an intrinsic value range of <strong>$2,800–$3,200 per share</strong>, indicating that the stock is fairly valued at current levels. Upside potential is primarily driven by strong digital sales growth, the successful implementation of 'Chipotlane' drive-thrus, and effective menu price increases. However, key risks include rising food and labor costs, supply chain vulnerabilities, and intense competition in the fast-casual dining sector. The company's ability to manage these risks while capitalizing on growth opportunities will be decisive for future shareholder value.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="py-12 md:py-16 project-section-fade-in">
                    <div class="container mx-auto px-6 text-center">
                         <a href="#" aria-label="Download Financial Model" class="btn-primary font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2">
                            <i class="fas fa-download"></i> Download Model
                        </a>
                    </div>
                </section>
                `;
                mainContainer.appendChild(page);
            };
            
            // --- INITIALIZE ALL PAGES ---
            createHomePage();
            createExperiencePage();
            createProjectsPage();
            createEducationPage();
            createResumePage();

            // --- GLOBAL LOGIC & EVENT LISTENERS ---
            document.getElementById('copyright-year').textContent = new Date().getFullYear();

            // Event Delegation for Experience Tab
            mainContainer.addEventListener('click', (e) => {
                const roleExplorerButton = e.target.closest('.exp-role-explorer-list-item');
                if (roleExplorerButton) {
                    const explorerList = roleExplorerButton.closest('.exp-role-explorer-list');
                    const explorerContent = document.getElementById('exp-role-explorer-content');
                    if (!explorerList || !explorerContent) return;

                    explorerList.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                    roleExplorerButton.classList.add('active');
                    
                    const expId = parseInt(roleExplorerButton.dataset.id);
                    const exp = portfolioData.experiences[expId];

                    if (exp) {
                        const dutiesHTML = exp.duties.map(duty => `<li class="mb-2">${duty}</li>`).join('');
                        const domainHTML = exp.domain.map(d => `<li class="mb-2">${d}</li>`).join('');

                        explorerContent.style.opacity = 0;
                        setTimeout(() => {
                            explorerContent.innerHTML = `
                                <div class="flex-grow">
                                    <div class="flex justify-between items-start mb-1">
                                        <h3 class="text-xl font-bold">${exp.title}</h3>
                                        <p class="text-sm font-medium mt-1 flex-shrink-0 ml-4" style="color: #D1A46E;">${exp.date}</p>
                                    </div>
                                    <p class="font-semibold mb-4" style="color: #463863;">${exp.companyFull}</p>
                                    <h4 class="font-bold mb-2" style="color: #D1A46E;">Core Responsibilities:</h4>
                                    <ul class="list-disc pl-5 space-y-1 mb-4">${dutiesHTML}</ul>
                                    <h4 class="font-bold mb-2" style="color: #D1A46E;">Competencies:</h4>
                                    <ul class="list-disc pl-5 space-y-1">${domainHTML}</ul>
                                </div>`;
                            explorerContent.style.opacity = 1;
                        }, 300);
                    }
                }
            });

            const savedPage = sessionStorage.getItem('activePage');
            if (savedPage) {
                showPage(savedPage);
            } else {
                showPage('home');
            }
            
            const header = document.querySelector('header');
            const progressBar = document.getElementById('progress-bar');
            let lastScrollTop = 0;
            
            window.addEventListener('scroll', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                const isScrollingDown = scrollTop > lastScrollTop;

                header.classList.toggle('nav-hidden', isScrollingDown && scrollTop > header.offsetHeight);
                
                lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;

                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrollPercent = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
                if (progressBar) {
                    progressBar.style.width = scrollPercent + '%';
                }

                const parallaxBanners = document.querySelectorAll('.parallax-banner');
                parallaxBanners.forEach(banner => {
                    const rect = banner.getBoundingClientRect();
                    if (rect.top < window.innerHeight && rect.bottom >= 0) {
                        banner.classList.add('visible');
                    }
                });
                handleScrollAnimations();
            }, false);

            function handleScrollAnimations() {
                 const elementsToAnimate = document.querySelectorAll('.education-card, .certification-card');
                 if (elementsToAnimate.length > 0) {
                     const observer = new IntersectionObserver((entries) => {
                         entries.forEach(entry => {
                             if (entry.isIntersecting) {
                                 entry.target.classList.add('visible');
                                 observer.unobserve(entry.target);
                             }
                         });
                     }, { threshold: 0.2 });
                     elementsToAnimate.forEach(element => observer.observe(element));
                 }
            }
            
            const successToast = document.getElementById('success-toast');
            const contactModal = document.getElementById('contact-modal');
            const contactForm = contactModal.querySelector('.contact-form');
            contactForm.action = portfolioData.contact.formspree_url;
            
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                fetch(this.action, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } })
                .then(response => { 
                    if (response.ok) { 
                        closeContactModal();
                        setTimeout(() => {
                           successToast.classList.add('show'); 
                            setTimeout(() => successToast.classList.remove('show'), 4000);
                        }, 400);
                        contactForm.reset(); 
                    } else {
                        response.json().then(data => {
                             if (Object.hasOwn(data, 'errors')) {
                                alert(data["errors"].map(error => error["message"]).join(", "))
                             } else {
                                alert("There was an error sending your message. Please try again.");
                             }
                        })
                    }
                }).catch(error => {
                    console.error("Form submission error.", error);
                    alert("There was an error sending your message. Please try again.");
                }); 
            });

            const certSection = document.querySelector('.cert-section');
            if (certSection) {
                certSection.addEventListener('click', (e) => {
                    const triggerButton = e.target.closest('.view-cert-btn');
                    if (triggerButton) {
                        e.preventDefault();
                        const imgSrc = triggerButton.dataset.imgSrc;
                        const imgAlt = triggerButton.getAttribute('aria-label').replace('View', '').trim();
                        if (imgSrc) {
                            openLightbox(imgSrc, imgAlt);
                        }
                    }
                });
            }

            const canvas = document.getElementById('finance-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            const symbols = ['$', '%', '▲', '▼', '📈', '📉'];
            const mouse = { x: null, y: null, radius: 180 };

            window.addEventListener('mousemove', (event) => { mouse.x = event.x; mouse.y = event.y; });
            window.addEventListener('mouseout', () => { mouse.x = null; mouse.y = null; });

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            function createParticles() {
                particles = [];
                let numberOfParticles = (canvas.width * canvas.height) / 20000;
                for (let i = 0; i < numberOfParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        vx: (Math.random() - 0.5) * 0.3,
                        vy: (Math.random() - 0.5) * 0.3,
                        size: Math.random() * 2 + 10,
                        symbol: symbols[Math.floor(Math.random() * symbols.length)]
                    });
                }
            }

            function connectParticles() {
                for (let a = 0; a < particles.length; a++) {
                    for (let b = a; b < particles.length; b++) {
                        let dx = particles[a].x - particles[b].x;
                        let dy = particles[a].y - particles[b].y;
                        let distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < 120) {
                            ctx.strokeStyle = 'rgba(209, 164, 110, ' + (1 - distance/120) + ')';
                            ctx.lineWidth = 0.6;
                            ctx.beginPath();
                            ctx.moveTo(particles[a].x, particles[a].y);
                            ctx.lineTo(particles[b].x, particles[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particles.length; i++) {
                    let p = particles[i];
                    p.x += p.vx; p.y += p.vy;
                    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
                    if (mouse.x && mouse.y) {
                        let dx = mouse.x - p.x;
                        let dy = mouse.y - p.y;
                        let distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < mouse.radius) { p.x -= dx / 18; p.y -= dy / 18; }
                    }
                    ctx.fillStyle = `rgba(70, 56, 99, 0.5)`;
                    ctx.font = `${p.size}px Montserrat`;
                    ctx.fillText(p.symbol, p.x, p.y);
                }
                connectParticles();
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => { resizeCanvas(); createParticles(); });
            resizeCanvas(); createParticles(); animate();
            
            const lightbox = document.getElementById('lightbox');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxImg = document.getElementById('lightbox-img');

            window.openLightbox = function(src, alt) {
                if (lightbox && lightboxImg) {
                    lightboxImg.src = src;
                    lightboxImg.alt = alt;
                    lightbox.classList.remove('hidden');
                    lightbox.classList.add('flex');
                }
            }
            function closeLightbox() {
                if (lightbox) {
                    lightbox.classList.add('hidden');
                    lightbox.classList.remove('flex');
                }
            }
            if (lightbox && lightboxClose) {
                lightboxClose.addEventListener('click', closeLightbox);
                lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closeLightbox(); });
            }

            const contactFab = document.getElementById('contact-fab');
            const contactModal = document.getElementById('contact-modal');
            const modalOverlay = contactModal.querySelector('.modal-overlay');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            function openContactModal() {
                 contactModal.classList.remove('hidden');
                 contactModal.classList.add('flex');
                 setTimeout(() => contactModal.classList.add('visible'), 10);
            }
            function closeContactModal() {
                contactModal.classList.remove('visible');
                setTimeout(() => {
                    contactModal.classList.add('hidden');
                    contactModal.classList.remove('flex');
                }, 300);
            }

            if (contactFab) contactFab.addEventListener('click', openContactModal);
            if (modalOverlay) modalOverlay.addEventListener('click', closeContactModal);
            if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeContactModal);

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeLightbox();
                    closeContactModal();
                }
            });

            const fabContent = document.querySelector('#contact-fab .fab-content');
            if (fabContent) {
                fabContent.addEventListener('animationend', () => {
                    fabContent.classList.remove('fab-pulse');
                }, { once: true });
            }
        });
    </script>
</body>
</html>

