<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bala Sravani Konakalla | Finance Professional</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Chart.js for dashboard charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <style>
        /* --- COLOR PALETTE --- */
        /* BG #F5F1EA • Surface #FFFFFF • Text #221C2A */
        /* Accent #463863 • Accent-soft #D1A46E • Muted #9C8FA7 */

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #F5F1EA;
            color: #221C2A;
            overflow-x: hidden;
        }
        #finance-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
        }
        .card-effect {
            background: #FFFFFF; border: 1px solid #e2e8f0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
        }
        .card-effect:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 15px -3px rgba(70, 56, 99, 0.1), 0 4px 6px -4px rgba(70, 56, 99, 0.1), 0 0 25px rgba(209, 164, 110, 0.8);
        }
        header { transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        header.nav-hidden { transform: translateY(-100%); }
        .page { display: none; }
        .page.active { display: block; }
        .nav-container { 
            display: inline-block; background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); 
            border: 1px solid #e2e8f0; border-radius: 9999px; 
            padding: 0.5rem; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1); 
            max-width: 100%;
        }
        #main-nav { display: flex; align-items: center; overflow-x: auto; scrollbar-width: none; }
        #main-nav::-webkit-scrollbar { display: none; }
        .nav-link { 
            flex-shrink: 0; padding: 0.75rem 1.5rem; border-radius: 9999px; 
            transition: all 0.3s ease; font-weight: 500; color: #221C2A;
            cursor: pointer; font-size: 1rem;
        }
        .nav-link.active { background-color: #F5F1EA; color: #463863; font-weight: 700; }
        .nav-link:not(.active):hover { background-color: #F5F1EA; }
        
        /* --- PARALLAX BANNER STYLES --- */
        .parallax-banner {
            height: 100vh; /* UPDATED: Make banner full screen height */
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        .parallax-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(34, 28, 42, 0.65); /* Darker overlay for better readability */
        }
        .parallax-content {
            position: relative;
            z-index: 1;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .parallax-banner.visible .parallax-content {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- OVERLAY PANEL STYLES (Kept for potential future use) --- */
        .overlay-panel-container {
            padding: 4rem 0;
        }
        .overlay-panel {
            height: 40vh;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 1.5rem;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .overlay-panel:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 30px -10px rgba(70, 56, 99, 0.15);
        }
        .overlay-panel .heading-underline {
            position: relative;
            display: inline-block;
        }
        .overlay-panel .heading-underline::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: #D1A46E;
            transition: width 0.4s ease;
        }
        .overlay-panel:hover .heading-underline::after {
            width: 100%;
        }
        .overlay-panel .cta-button {
            position: absolute;
            bottom: 2rem;
            right: 2rem;
            transform: translateX(120%);
            transition: transform 0.4s ease;
        }
        .overlay-panel:hover .cta-button {
            transform: translateX(0);
        }

        /* --- LIGHTBOX STYLES --- */
        #lightbox {
            transition: opacity 0.3s ease-in-out;
        }
        #lightbox-img {
            transition: transform 0.3s ease-in-out;
            max-width: 90vw;
            max-height: 90vh;
        }
        #lightbox.hidden #lightbox-img {
            transform: scale(0.9);
        }


        /* --- PROJECT PAGE SPECIFIC STYLES --- */
        .project-section-fade-in {
            opacity: 0;
            transform: translateY(16px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .project-section-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .starbucks-logo-glow {
            box-shadow: 0 0 25px rgba(13, 111, 60, 0.4);
        }
        .btn-primary, .explore-btn {
            background-color: #463863; color: #FFFFFF;
            transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, background-color 0.2s ease;
        }
        .btn-primary:hover, .explore-btn:hover {
            transform: scale(1.03);
            background-color: #D1A46E; /* Muted gold on hover */
            box-shadow: 0 8px 20px -5px rgba(209, 164, 110, 0.4);
        }
        .btn-secondary {
            background-color: #F5F1EA; color: #463863; border: 1px solid #463863;
            transition: transform 0.15s ease-out, background-color 0.15s ease-out;
        }
        .btn-secondary:hover {
            transform: scale(1.02);
            background-color: #eaddd0;
        }
        .btn-icon {
            background-color: transparent; color: #463863;
            transition: transform 0.15s ease-out, color 0.15s ease-out;
        }
        .btn-icon:hover {
            transform: scale(1.05);
            color: #D1A46E;
        }

        /* Interactive Timeline Accordion */
        .timeline-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding: 0 1rem;
        }
        .timeline-details.active {
            max-height: 200px; /* Adjust as needed */
            padding: 1rem;
        }
        .accordion-icon.rotate-180 {
            transform: rotate(180deg);
        }
        
        /* Other original styles */
        #success-toast {
            position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%);
            background-color: #10b981; color: white; padding: 1rem 1.5rem;
            border-radius: 0.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 100; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        #success-toast.show {
            opacity: 1; visibility: visible; transform: translate(-50%, -10px);
        }
        .center-timeline-container { position: relative; width: 100%; max-width: 80rem; margin: auto; padding: 2rem 0; }
        .center-timeline-line { position: absolute; width: 4px; background-color: #e2e8f0; top: 0; bottom: 0; left: 50%; transform: translateX(-50%); }
        .center-timeline-line-progress { position: absolute; width: 4px; background: linear-gradient(to bottom, #D1A46E, #463863); top: 0; left: 50%; transform: translateX(-50%); height: 0; transition: height 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .timeline-item { position: relative; width: 50%; padding: 0 1rem; margin-bottom: 3rem; opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease; }
        .timeline-item.visible { opacity: 1; transform: translateY(0); }
        .timeline-item:nth-child(odd) { left: 0; }
        .timeline-item:nth-child(even) { left: 50%; }
        .timeline-item-content { position: relative; }
        .logo-holder { width: 60px; height: 60px; background: #FFFFFF; border-radius: 50%; padding: 4px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 10px rgba(100, 150, 255, 0.7), 0 0 20px rgba(100, 150, 255, 0.5); transition: box-shadow 0.3s ease; }
        .logo-holder img { width: 100%; height: 100%; border-radius: 50%; object-fit: contain; }
        .skill-logo-holder { width: 48px; height: 48px; background: #FFFFFF; border-radius: 50%; padding: 4px; box-shadow: 0 0 8px rgba(100, 150, 255, 0.6), 0 0 15px rgba(100, 150, 255, 0.4); }
        .skill-logo-holder img { width: 100%; height: 100%; border-radius: 50%; object-fit: contain; }
        #timeline-moving-icon { position: absolute; left: 50%; top: 0; transform: translate(-50%, -50%); width: 40px; height: 40px; background-color: #463863; color: #D1A46E; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; box-shadow: 0 0 15px rgba(209, 164, 110, 0.7); z-index: 10; transition: top 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .education-card { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease, transform 0.6s ease, box-shadow 0.3s ease; }
        .education-card.visible { opacity: 1; transform: translateY(0); }
        .education-card:hover { transform: translateY(-8px); box-shadow: 0 12px 20px -4px rgba(70, 56, 99, 0.15), 0 0 30px rgba(209, 164, 110, 0.7); }
        .education-card .logo-holder { width: 120px; height: auto; align-self: stretch; border-radius: 0; padding: 0; box-shadow: 0 0 10px rgba(100, 150, 255, 0.7), 0 0 20px rgba(100, 150, 255, 0.5); overflow: hidden; }
        .education-card .logo-holder img { border-radius: 0; width: 100%; height: 100%; object-fit: cover; }
        .cgpa-badge { background-color: #463863; color: #FFFFFF; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .accordion-item { background-color: #FFFFFF; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05); transition: margin 0.3s ease-in-out; }
        .accordion-item:not(:last-child) { margin-bottom: 1rem; }
        .accordion-header { width: 100%; padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center; cursor: pointer; background-color: transparent; border: none; text-align: left; font-weight: 600; font-size: 1.125rem; color: #221C2A; transition: background-color 0.3s ease; }
        .accordion-header:hover { background-color: #F5F1EA; }
        .accordion-header .icon { transition: transform 0.3s ease-in-out; color: #463863; }
        .accordion-item.active .accordion-header .icon { transform: rotate(45deg); }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out; padding: 0 1.5rem; }
        .accordion-content-inner { padding-bottom: 1.5rem; }
        .list-rtl { direction: rtl; list-style-position: inside; }
        .list-rtl li { direction: ltr; }
        @media (max-width: 768px) {
            .center-timeline-line, .center-timeline-line-progress { left: 25px; }
            .timeline-item { width: 100%; left: 0 !important; padding-left: 4rem; padding-right: 1rem; }
            #timeline-moving-icon { left: 25px; }
            .parallax-banner {
                background-attachment: scroll; /* UPDATED: Disable parallax on mobile for performance */
            }
        }
    </style>
</head>
<body class="antialiased">
    
    <canvas id="finance-canvas"></canvas>
    <div id="success-toast">
        <i class="fas fa-check-circle mr-2"></i> Message sent successfully! I'll get back to you soon.
    </div>

    <header class="fixed top-0 left-0 right-0 z-50 py-4">
        <div class="container mx-auto flex justify-center items-center px-4">
            <div class="nav-container">
                <nav id="main-nav"></nav>
            </div>
        </div>
    </header>

    <main class="relative z-10">
        <!-- NOTE: Removed pt-24 from main to allow hero to be full screen -->
    </main>

    <footer class="py-6 text-center text-gray-500 relative z-10">
        <p>&copy; 2025 Bala Sravani Konakalla. All Rights Reserved.</p>
    </footer>

    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 z-[100] hidden items-center justify-center p-4">
        <button id="lightbox-close" class="absolute top-4 right-4 text-white text-4xl opacity-80 hover:opacity-100 transition-opacity">&times;</button>
        <img id="lightbox-img" src="" alt="Resume full view" class="max-w-full max-h-full rounded-lg shadow-2xl">
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- DATA SOURCE ---
            const portfolioData = {
                pages: [
                    { id: 'home', label: 'Home' },
                    { id: 'experience', label: 'Experience' },
                    { id: 'projects', label: 'Projects' },
                    { id: 'education', label: 'Education' },
                    { id: 'resume', label: 'Resume' }
                ],
                home: {
                    name: "Bala Sravani Konakalla",
                    title: "Analytical Finance Professional",
                    about: "A dedicated and detail-oriented finance professional with a passion for uncovering insights from data. Eager to apply my skills in a challenging and growth-oriented environment.",
                    summary: "Expertise in credit monitoring, financial modeling, and compliance. Skilled in SAP BPC and advanced Excel, with a proven track record of optimizing workflows and ensuring regulatory compliance.",
                    imageUrl: "https://placehold.co/300x300/463863/F5F1EA?text=BSK",
                },
                experiences: [
                    { 
                        date: 'Jun 2024 - Present', 
                        title: 'Management Trainee', 
                        company: 'Tata Consultancy Services', 
                        logoUrl: 'TCS LOGO.svg.png',
                        duties: [
                            'Executed Fixed Asset Runs and Role Forward using SAP BPC, ensuring 100% compliance.',
                            'Monitored cost centers and role IDs, improving process efficiency by 15%.',
                            'Resolved system discrepancies through root cause analysis to enhance data reliability.'
                        ]
                    },
                    { 
                        date: 'Jun 2023 - Jul 2023', 
                        title: 'Sales Trainee (Internship)', 
                        company: 'Silver Star Mercedes Benz', 
                        logoUrl: 'Benz Logo.svg.png',
                        duties: [
                            'Performed credit risk assessments and analyzed financial statements.',
                            'Managed end-to-end accounts payable, enhancing vendor relationships.',
                            'Conducted detailed cost-benefit analyses for marketing campaigns.'
                        ]
                    }
                ],
                skills: [
                    { name: 'SAP BPC', logoUrl: './public/logos/sap-logo.png' },
                    { name: 'Financial Modeling', logoUrl: './public/logos/financial-modeling-logo.png' },
                    { name: 'Tableau', logoUrl: './public/logos/tableau-logo.png' },
                    { name: 'Advanced Excel', logoUrl: './public/logos/excel-logo.png' },
                    { name: 'MS Office Suite', logoUrl: './public/logos/office-logo.png' },
                    { name: 'Compliance', logoUrl: './public/logos/compliance-logo.png' },
                    { name: 'Credit Monitoring', logoUrl: './public/logos/credit-monitoring-logo.png' },
                    { name: 'Data Analysis', logoUrl: './public/logos/data-analysis-logo.png' }
                ],
                educations: [
                    { 
                        degree: 'Masters of Business Administration', 
                        specialization: 'Finance & Marketing',
                        school: 'GITAM School of Business', 
                        location: 'Visakhapatnam',
                        date: '2022 - 2024', 
                        details: 'CGPA: 8.19',
                        logoUrl: 'Gitam Logo.svg.png' 
                    },
                    { 
                        degree: 'Bachelor of Technology', 
                        specialization: 'Civil Engineering',
                        school: 'Shri Vishnu Engineering College for Women', 
                        location: 'Bhimavaram',
                        date: '2017 - 2021', 
                        details: 'CGPA: 8.29',
                        logoUrl: 'Vishnu Logo.svg.png' 
                    }
                ],
                certifications: [
                    { 
                        title: 'Microsoft 365 Fundamentals', issuer: 'Microsoft', 
                        logoUrl: './public/logos/microsoft-logo.png', issueDate: 'Jan 2024',
                        skills: ['Cloud Computing', 'MS Office 365', 'Collaboration Tools'], category: 'Systems',
                        certificateImageUrl: './public/certificates/MS-365-Cert.png'
                    },
                    { 
                        title: 'SAP Professional Fundamentals', issuer: 'SAP',
                        logoUrl: './public/logos/sap-logo.png', issueDate: 'Dec 2023',
                        skills: ['ERP Systems', 'SAP BPC', 'Financial Planning'], category: 'Systems',
                        certificateImageUrl: './public/certificates/SAP-Cert.png'
                    },
                    { 
                        title: 'GST Taxation Certificate', issuer: 'PwC',
                        logoUrl: './public/logos/pwc-logo.png', issueDate: 'Nov 2023',
                        skills: ['Taxation', 'GST Compliance', 'Financial Regulation'], category: 'Finance',
                        certificateImageUrl: './public/certificates/PwC-Cert.png'
                    },
                    {
                        title: 'Investment Banking Simulation', issuer: 'JP Morgan',
                        logoUrl: './public/logos/jpmorgan-logo.png', issueDate: 'Oct 2023',
                        skills: ['Valuation', 'M&A', 'Financial Modeling'], category: 'Finance',
                        certificateImageUrl: './public/certificates/JPM-Cert.png'
                    },
                    {
                        title: 'Tableau Specialist', issuer: 'Tableau',
                        logoUrl: './public/logos/tableau-logo.png', issueDate: 'Sep 2023',
                        skills: ['Data Visualization', 'Business Intelligence', 'Dashboarding'], category: 'Analytics & Tools',
                        certificateImageUrl: './public/certificates/Tableau-Cert.png'
                    }
                ],
                contact: {
                    email: 'sravikonakalla@gmail.com',
                    linkedin: 'https://linkedin.com/in/kbalasravani',
                    formspree_url: 'https://formspree.io/f/your_unique_id'
                },
                starbucksProject: {
                    dashboardData: {
                        valuationRange: "$85 – $102",
                        impliedUpside: "+12%",
                        wacc: "8.1%",
                        terminalGrowth: "2.5%"
                    }
                }
            };

            const mainContainer = document.querySelector('main');
            const navContainer = document.getElementById('main-nav');

            const showPage = (pageId) => {
                document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
                const newPage = document.getElementById(`page-${pageId}`);
                if (newPage) {
                    newPage.classList.add('active');
                    if (pageId === 'projects') {
                        setTimeout(setupProjectPage, 50);
                    }
                }
                
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.pageId === pageId) {
                        link.classList.add('active');
                        link.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                    }
                });
                // Do not scroll to top for home page to preserve parallax scroll position
                if (pageId !== 'home') {
                    window.scrollTo(0, 0);
                }
                handleScrollAnimations(); 
            };

            portfolioData.pages.forEach(page => {
                const link = document.createElement('a');
                link.className = 'nav-link';
                if (page.id === 'home') link.classList.add('active');
                link.textContent = page.label;
                link.dataset.pageId = page.id;
                link.onclick = () => showPage(page.id);
                navContainer.appendChild(link);
            });
            
            const createGetInTouchHTML = () => `
                <section class="py-20 bg-white/50">
                    <div class="container mx-auto px-6 text-center">
                        <h3 class="text-3xl md:text-4xl font-bold mb-4" style="color: #221C2A;">Get In Touch</h3>
                        <p class="max-w-xl mx-auto mb-12" style="color: #9C8FA7;">I'm always open to discussing new opportunities. Feel free to send a message.</p>
                        <div class="max-w-2xl mx-auto">
                            <form class="contact-form w-full p-8 rounded-lg card-effect mb-8" action="${portfolioData.contact.formspree_url}" method="POST">
                                <div class="space-y-4 text-left">
                                    <input type="text" name="name" placeholder="Your Name" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="color: #221C2A; --tw-ring-color: #463863;">
                                    <input type="email" name="email" placeholder="Your Email" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="color: #221C2A; --tw-ring-color: #463863;">
                                    <textarea name="message" rows="4" placeholder="Your Message" required class="w-full bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 transition-all" style="color: #221C2A; --tw-ring-color: #463863;"></textarea>
                                </div>
                                <div class="mt-8">
                                    <button type="submit" class="btn-primary font-bold py-3 px-6 rounded-lg transition-all duration-300 w-full">
                                        Send Message
                                    </button>
                                </div>
                            </form>
                            <div class="flex justify-center items-center gap-6 mt-8">
                                <a href="mailto:${portfolioData.contact.email}" class="transition-colors text-2xl" style="color: #9C8FA7; --hover-color: #463863;" onmouseover="this.style.color=this.style.getPropertyValue('--hover-color')" onmouseout="this.style.color='#9C8FA7'"><i class="fas fa-envelope"></i></a>
                                <a href="${portfolioData.contact.linkedin}" target="_blank" class="transition-colors text-2xl" style="color: #9C8FA7; --hover-color: #463863;" onmouseover="this.style.color=this.style.getPropertyValue('--hover-color')" onmouseout="this.style.color='#9C8FA7'"><i class="fab fa-linkedin"></i></a>
                            </div>
                        </div>
                    </div>
                </section>
            `;


            const createHomePage = () => {
                const page = document.createElement('div');
                page.id = 'page-home';
                page.className = 'page active';

                const parallaxBanners = [
                    { 
                        id: 'experience', 
                        title: 'Work Experience', 
                        lines: [
                            'Hands-on experience across management, sales, and financial analysis roles.',
                            'Developing expertise through progressive responsibilities and real-world problem-solving.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'experience'
                    },
                    { 
                        id: 'education', 
                        title: 'Academic Background', 
                        lines: [
                            'Academic foundation in business and technology, strengthened by an MBA.',
                            'Blending quantitative skills with strategic thinking.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'education'
                    },
                    { 
                        id: 'projects', 
                        title: 'Key Projects', 
                        lines: [
                            'Real-time financial modeling and valuation projects, including Starbucks FMVA® analysis.',
                            'Transforming theory into practical, data-driven insights.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1639322537228-f710d846310a?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'projects'
                    },
                    { 
                        id: 'resume', 
                        title: 'Resume', 
                        lines: [
                            'Certified in financial modeling and valuation, continuously upskilling in finance.',
                            'Explore my resume to see detailed experience and qualifications.'
                        ],
                        bg: 'https://images.unsplash.com/photo-1604147706283-d7119b5b822c?q=80&w=1920&auto=format&fit=crop',
                        buttonPageId: 'resume'
                    }
                ];

                const parallaxBannersHTML = parallaxBanners.map(section => `
                    <div class="parallax-banner" style="background-image: url('${section.bg}')">
                        <div class="parallax-overlay"></div>
                        <div class="parallax-content p-8">
                            <h2 class="text-3xl md:text-4xl font-bold mb-4">${section.title}</h2>
                            <div class="max-w-2xl mx-auto mb-6 space-y-2 text-base md:text-lg">
                                <p>${section.lines[0]}</p>
                                <p>${section.lines[1]}</p>
                            </div>
                            <button onclick="document.getElementById('main-nav').querySelector('[data-page-id=${section.buttonPageId}]').click()" class="explore-btn font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center gap-2" aria-label="Explore ${section.title}">
                                Explore <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                `).join('');


                page.innerHTML = `
                    <div class="min-h-screen flex flex-col" style="background-color: #F5F1EA;">
                        <section class="flex-grow flex items-center pt-24 pb-12">
                            <div class="container mx-auto px-6">
                               <div class="grid md:grid-cols-2 gap-8 items-center">
                                    <div class="flex justify-center md:justify-start">
                                        <img src="${portfolioData.home.imageUrl}" alt="${portfolioData.home.name}" class="rounded-full w-48 h-48 md:w-64 md:h-64 object-cover border-4 border-gray-200 shadow-2xl">
                                    </div>
                                    <div class="text-center md:text-left">
                                        <h1 class="text-4xl md:text-6xl font-bold mb-4 tracking-tight" style="color: #221C2A;">${portfolioData.home.name}</h1>
                                        <h2 class="text-2xl md:text-3xl mb-4" style="color: #463863;">${portfolioData.home.title}</h2>
                                        <p class="text-lg" style="color: #9C8FA7;">${portfolioData.home.about}</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <section class="py-20">
                            <div class="container mx-auto px-6 text-center">
                                <h3 class="text-2xl md:text-3xl font-bold mb-4" style="color: #221C2A;">Profile Summary</h3>
                                <p class="text-lg max-w-3xl mx-auto" style="color: #463863;">${portfolioData.home.summary}</p>
                            </div>
                        </section>
                    </div>
                    
                    <!-- Redesigned Parallax Section -->
                    <div class="bg-gray-800">
                        ${parallaxBannersHTML}
                    </div>

                    ${createGetInTouchHTML()}
                `;
                mainContainer.appendChild(page);
            };

            const createExperiencePage = () => { 
                const page = document.createElement('div'); 
                page.id = 'page-experience'; 
                page.className = 'page'; 
                const experiencesHTML = portfolioData.experiences.map((exp, index) => `
                    <div class="timeline-item" data-index="${index}">
                        <div class="timeline-item-content card-effect">
                            <div class="p-6">
                                <div class="flex items-start gap-4 mb-4 ${index % 2 !== 0 ? 'md:flex-row-reverse' : ''}">
                                    <div class="logo-holder">
                                        <img src="${exp.logoUrl}" alt="${exp.company} Logo" onerror="this.src='https://placehold.co/60x60/FFFFFF/463863?text=Logo'; this.parentElement.style.boxShadow='none';">
                                    </div>
                                    <div class="flex-grow ${index % 2 !== 0 ? 'md:text-right' : 'text-left'}">
                                        <h4 class="text-xl font-bold" style="color: #221C2A;">${exp.title}</h4>
                                        <p class="text-lg font-semibold" style="color: #463863;">${exp.company}</p>
                                        <p class="text-sm font-semibold mt-2" style="color: #D1A46E;">${exp.date}</p>
                                    </div>
                                </div>
                                <ul class="list-disc ${index % 2 !== 0 ? 'list-rtl' : 'list-outside pl-5 text-left'} space-y-2" style="color: #463863;">
                                    ${exp.duties.map(duty => `<li style="font-size: 0.875rem;">${duty}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>`).join(''); 
                const skillsHTML = portfolioData.skills.map(skill => `
                    <div class="p-4 rounded-lg card-effect flex flex-col items-center justify-center gap-4 text-center h-full">
                        <div class="skill-logo-holder">
                            <img src="${skill.logoUrl}" alt="${skill.name} Logo" onerror="this.src='https://placehold.co/48x48/FFFFFF/463863?text=Icon'; this.parentElement.style.boxShadow='none';">
                        </div>
                        <p class="text-sm font-semibold" style="color: #221C2A;">${skill.name}</p>
                    </div>`).join(''); 
                page.innerHTML = `
                    <section class="py-16">
                        <div class="container mx-auto px-6">
                            <h3 class="text-3xl md:text-4xl font-bold text-center mb-16" style="color: #221C2A;">Work Experience</h3>
                            <div id="experience-timeline-container" class="center-timeline-container">
                                <div class="center-timeline-line"></div>
                                <div id="timeline-progress-exp" class="center-timeline-line-progress"></div>
                                <div id="timeline-moving-icon"><i class="fas fa-briefcase"></i></div>
                                ${experiencesHTML}
                            </div>
                            <div class="text-center mt-16">
                                <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Technical Skills</h3>
                                <div class="max-w-4xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-4">${skillsHTML}</div>
                            </div>
                        </div>
                    </section>
                    ${createGetInTouchHTML()}
                    `; 
                mainContainer.appendChild(page); 
            };

            const createEducationPage = () => {
                const page = document.createElement('div');
                page.id = 'page-education';
                page.className = 'page';

                const educationCardsHTML = portfolioData.educations.map(edu => `
                    <div class="education-card bg-white rounded-2xl flex overflow-hidden w-full max-w-2xl mx-auto">
                        <div class="logo-holder">
                            <img src="${edu.logoUrl}" alt="${edu.school} Logo" onerror="this.src='https://placehold.co/120x120/FFFFFF/463863?text=Logo'; this.parentElement.style.boxShadow='none';">
                        </div>
                        <div class="py-6 pr-6 pl-8 relative flex-grow">
                            <h4 class="text-xl font-bold" style="color: #221C2A;">${edu.degree}</h4>
                            <p class="font-semibold text-md mb-1" style="color: #463863;">${edu.specialization}</p>
                            <p class="text-sm" style="color: #9C8FA7;">${edu.school}, ${edu.location}</p>
                            <p class="text-sm font-medium" style="color: #D1A46E;">${edu.date}</p>
                            <div class="absolute bottom-6 right-6">
                                <span class="cgpa-badge">${edu.details}</span>
                            </div>
                        </div>
                    </div>
                `).join('');

                const accordionHTML = portfolioData.certifications.map(cert => `
                    <div class="accordion-item">
                        <button class="accordion-header">
                            <div class="flex items-center gap-4">
                                <div class="logo-holder w-10 h-10 text-sm">
                                    <img src="${cert.logoUrl}" alt="${cert.issuer} Logo">
                                </div>
                                <span>${cert.title}</span>
                            </div>
                            <i class="fas fa-plus icon"></i>
                        </button>
                        <div class="accordion-content">
                            <div class="accordion-content-inner grid md:grid-cols-3 gap-6 items-center">
                                <div class="md:col-span-1">
                                    <img src="${cert.certificateImageUrl}" alt="${cert.title} certificate" class="rounded-lg shadow-lg w-full" onerror="this.src='https://placehold.co/400x250/FFFFFF/463863?text=Cert';">
                                </div>
                                <div class="md:col-span-2">
                                    <h5 class="font-bold text-lg mb-2" style="color: #463863;">${cert.issuer}</h5>
                                    <p class="text-sm text-gray-500 mb-4">Issued: ${cert.issueDate}</p>
                                    <h6 class="font-semibold mb-2">Skills Covered:</h6>
                                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                                        ${cert.skills.map(skill => `<li>${skill}</li>`).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');


                page.innerHTML = `
                    <section class="py-16">
                        <div class="container mx-auto px-6">
                            <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Academic Background</h3>
                            <div class="space-y-8">
                                ${educationCardsHTML}
                            </div>
                            
                            <div class="cert-section mt-20">
                                <h3 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #221C2A;">Certifications</h3>
                                <div class="max-w-4xl mx-auto">
                                    ${accordionHTML}
                                </div>
                            </div>
                        </div>
                    </section>
                    ${createGetInTouchHTML()}
                    `;
                mainContainer.appendChild(page);
            };

            const createResumePage = () => {
                const page = document.createElement('div');
                page.id = 'page-resume';
                page.className = 'page';
                page.innerHTML = `
                    <section class="py-16 min-h-[90vh] flex items-center">
                        <div class="container mx-auto px-4 text-center max-w-4xl">
                            <h2 class="text-3xl md:text-4xl font-bold mb-2" style="color: #221C2A;">Resume</h2>
                            <p class="max-w-xl mx-auto mb-8" style="color: #9C8FA7;">Preview my resume below or download the PDF version.</p>

                            <div id="resume-viewer" class="relative bg-white rounded-2xl shadow-lg p-2 md:p-4">
                                <div class="overflow-auto rounded-lg" style="height: 70vh;">
                                    <img src="https://placehold.co/827x1169/ffffff/221C2A?text=Resume+Preview" alt="Preview of Bala Sravani Konakalla’s Resume" class="w-full h-auto mx-auto cursor-pointer hover:opacity-90 transition-opacity" onclick="openLightbox(this.src)">
                                </div>
                            </div>

                            <div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
                                 <a href="./Bala_Sravani_Konakalla_Resume.pdf" download="Bala_Sravani_Konakalla_Resume.pdf" class="btn-primary w-full sm:w-auto font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center justify-center gap-2" aria-label="Download Resume PDF">
                                    <i class="fas fa-download"></i> Download PDF
                                </a>
                                <a href="https://linkedin.com/in/kbalasravani" target="_blank" class="btn-secondary w-full sm:w-auto font-bold py-3 px-6 rounded-lg transition-all duration-300 inline-flex items-center justify-center gap-2" aria-label="View on LinkedIn">
                                    <i class="fab fa-linkedin"></i> View on LinkedIn
                                </a>
                            </div>

                            <p class="text-xs text-gray-400 mt-4">Updated: August 2025</p>
                        </div>
                    </section>
                    ${createGetInTouchHTML()}
                `;
                mainContainer.appendChild(page);
            };
            
            const createProjectsPage = () => {
                const page = document.createElement('div');
                page.id = 'page-projects';
                page.className = 'page';

                const timelineSteps = [
                    {icon: 'fa-search-dollar', label: 'Company & Industry Research', details: 'Analyzed 10-K filings, investor calls, and industry reports to understand SBUX\'s business model, competitive landscape, and macro trends.'},
                    {icon: 'fa-history', label: 'Historical Financials Analysis', details: 'Deconstructed revenue by segment and geography. Analyzed margin evolution, unit economics, and historical performance trends.'},
                    {icon: 'fa-bullseye', label: 'Forecasting & Assumptions', details: 'Built granular drivers for key metrics like same-store sales and new store growth. Projected costs based on historical trends and management guidance.'},
                    {icon: 'fa-file-invoice-dollar', label: '3-Statement Model', details: 'Constructed a fully integrated model linking the Income Statement, Balance Sheet, and Cash Flow statement. Ensured model integrity with balance checks.'},
                    {icon: 'fa-balance-scale', label: 'Valuation (DCF, Multiples)', details: 'Performed a Discounted Cash Flow (DCF) analysis using the Free Cash Flow to Firm (FCFF) method. Calibrated WACC and conducted trading comparables analysis.'},
                    {icon: 'fa-lightbulb', label: 'Final Insights & Conclusion', details: 'Derived the intrinsic value range for SBUX. Performed sensitivity and scenario analysis to identify key value drivers, risks, and form a final investment thesis.'}
                ];

                page.innerHTML = `
                <!-- 1. Project Header Section -->
                <div id="project-header" class="project-section-fade-in relative overflow-hidden">
                    <div class="absolute inset-0 z-0">
                        <svg class="absolute bottom-0 right-0 h-1/2 w-1/2 text-gray-500 opacity-[0.03]" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 597.995c-113.003 0-204.8-91.797-204.8-204.8s91.797-204.8 204.8-204.8 204.8 91.797 204.8 204.8-91.797 204.8-204.8 204.8zM512 256c-79.508 0-144.37 64.862-144.37 144.37s64.862 144.37 144.37 144.37 144.37-64.862 144.37-144.37-64.862-144.37-144.37-144.37z"/><path d="M512 1024c-282.77 0-512-229.23-512-512s229.23-512 512-512 512 229.23 512 512-229.23 512-512 512zM512 61.44C264.604 61.44 61.44 264.604 61.44 512s203.164 450.56 450.56 450.56 450.56-203.164 450.56-450.56-203.164-450.56-450.56-450.56z"/><path d="M961.075 613.99c-30.822-1.946-59.597-10.138-85.3-23.757l-2.048-1.229c-10.138-6.042-19.866-12.7-28.979-20.07-8.806-6.963-16.896-14.541-24.166-22.733-1.434-1.638-2.867-3.277-4.301-4.915-28.365-32.358-49.152-70.554-59.802-112.947-3.277-13.005-5.325-26.317-6.554-39.834-0.614-10.138-0.614-20.378-0.205-30.515 1.536-25.805 6.758-50.995 15.36-74.957 14.848-41.472 40.55-78.131 74.547-107.008 33.382-28.365 73.626-47.309 117.555-55.296 5.837-1.024 11.674-1.843 17.613-2.458 35.84-3.79 72.192-0.307 106.803 10.138 34.099 10.24 65.638 27.238 93.39 49.971 2.867 2.355 5.632 4.813 8.397 7.27 34.816 30.618 60.006 70.144 72.909 114.176 15.36 52.634 15.053 108.954-0.819 161.792-12.902 43.11-37.376 81.92-69.837 114.176-32.051 31.846-70.963 56.525-114.074 71.373-35.635 12.288-73.421 18.227-111.821 17.408-10.138-0.205-20.275-0.819-30.31-1.843z"/></svg>
                    </div>
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8 py-10 md:py-16 relative z-10">
                        <div class="grid md:grid-cols-5 gap-8 md:gap-12 items-center">
                            <div class="md:col-span-2 text-center md:text-left">
                                <div class="flex justify-center md:justify-start mb-6">
                                    <div class="w-24 h-24 bg-white rounded-full p-2 starbucks-logo-glow flex items-center justify-center">
                                        <img src="./public/logos/starbucks-logo.png" alt="Starbucks Company Logo" class="rounded-full" onerror="this.src='https://placehold.co/96x96/FFFFFF/1e3932?text=SBUX'">
                                    </div>
                                </div>
                                <h1 class="text-2xl md:text-4xl font-extrabold text-gray-900 leading-tight">Starbucks Financial Modeling & Valuation</h1>
                                <h2 class="text-lg md:text-xl font-semibold text-gray-600 mt-2">Starbucks Corporation (NASDAQ: SBUX)</h2>
                                <div class="flex flex-wrap justify-center md:justify-start gap-2 mt-6">
                                    <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">FMVA® Techniques</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">DCF & Multiples</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">3-Statement Model</span>
                                    <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">Scenario Analysis</span>
                                </div>
                            </div>
                            <div class="md:col-span-3">
                                <div class="bg-white/70 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-200">
                                    <h3 class="font-bold text-lg mb-2 text-gray-800">About the Company</h3>
                                    <p class="text-gray-600 text-sm leading-relaxed mb-6">
                                        Starbucks is a global coffeehouse chain with over 35,000 stores worldwide. Revenue is driven by company-operated stores and licensed operations. Key levers include same-store sales, new store growth, product mix innovation, and its powerful digital ecosystem through the Starbucks Rewards program.
                                    </p>
                                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
                                        <div><p class="font-bold text-gray-800">FY2023</p><p class="text-xs text-gray-500">Fiscal Basis</p></div>
                                        <div><p class="font-bold text-gray-800">5-Year</p><p class="text-xs text-gray-500">Forecast</p></div>
                                        <div><p class="font-bold text-gray-800">FCFF DCF</p><p class="text-xs text-gray-500">Model</p></div>
                                        <div><p class="font-bold text-gray-800">$85-$102</p><p class="text-xs text-gray-500">Value Range</p></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="w-full border-t border-gray-300/60 my-8 md:my-12"></div>
                         <div class="flex flex-wrap justify-center md:justify-start items-center gap-4">
                            <a href="#" aria-label="Download Financial Model" class="btn-primary font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2">
                                <i class="fas fa-download"></i> Download Model (PDF/Excel)
                            </a>
                            <a href="#timeline" aria-label="View Project Methodology" class="btn-secondary font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2">
                                <i class="fas fa-stream"></i> View Methods
                            </a>
                            <a href="#" aria-label="View project on GitHub" class="btn-icon text-2xl"><i class="fab fa-github"></i></a>
                        </div>
                    </div>
                </div>

                <!-- 2. Interactive Timeline Section -->
                <section id="timeline" class="py-12 md:py-20 bg-white project-section-fade-in">
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl md:text-4xl font-bold">Interactive Timeline - Project Methodology</h2>
                            <p class="mt-2 text-gray-600 max-w-2xl mx-auto">This project follows a structured FMVA® process. Click on each step to see details.</p>
                        </div>
                        
                        <div class="space-y-4">
                        ${timelineSteps.map((item, index) => `
                            <div class="timeline-accordion-item bg-white rounded-lg shadow-sm">
                                <button class="w-full p-4 text-left flex justify-between items-center transition hover:bg-gray-50">
                                    <span class="font-semibold text-lg flex items-center">
                                        <i class="fas ${item.icon} text-[#463863] w-8 text-center mr-4"></i>
                                        Step ${index + 1}: ${item.label}
                                    </span>
                                    <i class="fas fa-chevron-down accordion-icon transition-transform"></i>
                                </button>
                                <div class="timeline-details bg-gray-50 text-gray-600 rounded-b-lg">
                                    <p>${item.details}</p>
                                </div>
                            </div>
                        `).join('')}
                        </div>
                    </div>
                </section>

                <!-- 3. Dashboard View Section -->
                <section id="dashboard" class="py-12 md:py-20 project-section-fade-in">
                    <div class="container mx-auto max-w-screen-xl px-6 md:px-8">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl md:text-4xl font-bold">Project Dashboard - Key Results</h2>
                            <p class="mt-2 text-gray-600">A visual-first summary of valuation outcomes, forecasts, and scenario analysis.</p>
                        </div>
                        <div class="bg-white rounded-xl shadow-lg p-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center mb-8">
                            <div><p class="text-2xl md:text-3xl font-bold text-[#463863]">${portfolioData.starbucksProject.dashboardData.valuationRange}</p><p class="text-sm font-semibold text-gray-500">Intrinsic Value (Range)</p></div>
                            <div><p class="text-2xl md:text-3xl font-bold text-green-600">${portfolioData.starbucksProject.dashboardData.impliedUpside}</p><p class="text-sm font-semibold text-gray-500">Implied Upside vs Spot</p></div>
                            <div><p class="text-2xl md:text-3xl font-bold text-[#463863]">${portfolioData.starbucksProject.dashboardData.wacc}</p><p class="text-sm font-semibold text-gray-500">WACC</p></div>
                            <div><p class="text-2xl md:text-3xl font-bold text-[#463863]">${portfolioData.starbucksProject.dashboardData.terminalGrowth}</p><p class="text-sm font-semibold text-gray-500">Terminal Growth</p></div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center justify-center text-center h-64">
                                <div class="w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition">
                                    <i class="fas fa-image text-4xl text-gray-400 mb-2"></i>
                                    <h3 class="font-bold">Valuation Range</h3>
                                    <p class="text-xs text-gray-500">Upload Image</p>
                                </div>
                            </div>
                             <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center justify-center text-center h-64">
                                <div class="w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition">
                                    <i class="fas fa-chart-line text-4xl text-gray-400 mb-2"></i>
                                    <h3 class="font-bold">Revenue & EPS Forecast</h3>
                                    <p class="text-xs text-gray-500">Upload Image</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center justify-center text-center h-64">
                                <div class="w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition">
                                    <i class="fas fa-chart-bar text-4xl text-gray-400 mb-2"></i>
                                    <h3 class="font-bold">Scenario Analysis</h3>
                                    <p class="text-xs text-gray-500">Upload Image</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center justify-center text-center h-64">
                                <div class="w-full h-full border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition">
                                    <i class="fas fa-balance-scale text-4xl text-gray-400 mb-2"></i>
                                    <h3 class="font-bold">Multiples Comparison</h3>
                                    <p class="text-xs text-gray-500">Upload Image</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- 4. Case Study Section -->
                <section id="case-study" class="py-12 md:py-20 bg-white project-section-fade-in">
                    <div class="container mx-auto max-w-4xl px-6 md:px-8">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl md:text-4xl font-bold">Case Study – Starbucks FMVA® Project</h2>
                            <p class="mt-2 text-gray-600">A detailed walkthrough of the project's objective, process, and conclusions.</p>
                        </div>
                        <article class="space-y-8">
                            <div>
                                <h3 class="text-xl font-bold">Objective</h3>
                                <p class="text-gray-700 mt-2 leading-relaxed">Apply FMVA®-level modeling and valuation techniques to assess Starbucks’ intrinsic value, validate key performance drivers, and communicate a clear, data-driven investment narrative.</p>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold">Methodology</h3>
                                <p class="text-gray-700 mt-2 leading-relaxed">The project was executed in a sequential manner, ensuring a logical flow from data gathering to final analysis:</p>
                                <ul class="list-disc list-inside text-gray-700 space-y-2 mt-2">
                                    <li><strong>Research & Historicals:</strong> Began with a deep dive into SEC filings and industry reports to build a solid foundation.</li>
                                    <li><strong>Forecasting:</strong> Developed a granular forecast model based on key drivers like store growth, same-store sales, and margin assumptions.</li>
                                    <li><strong>3-Statement Integration:</strong> Constructed a fully integrated financial model linking the income statement, balance sheet, and cash flow statement.</li>
                                    <li><strong>Valuation:</strong> Performed a Discounted Cash Flow (DCF) analysis using the Free Cash Flow to Firm (FCFF) method and corroborated findings with a trading comparables analysis.</li>
                                    <li><strong>Sensitivities & Scenarios:</strong> Concluded with scenario modeling (Base, Bull, Bear) and sensitivity analysis to stress-test assumptions and identify key risks.</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold">Key Insights</h3>
                                <ul class="list-disc list-inside text-gray-700 space-y-2 mt-2">
                                    <li>The base-case DCF analysis indicates an intrinsic value range of <strong>$90–$95 per share</strong>, suggesting the stock is modestly undervalued at current levels.</li>
                                    <li>Upside potential is primarily driven by continued high-margin growth in the digital and loyalty ecosystem, coupled with successful international expansion.</li>
                                    <li>Key risks to the valuation include sustained commodity price inflation impacting margins, increased competition in key markets, and potential slowdowns in consumer discretionary spending.</li>
                                </ul>
                            </div>
                            <div class="w-full border-t border-gray-200 pt-8 mt-8 flex flex-wrap justify-center items-center gap-4">
                                <a href="#" aria-label="Download Full Financial Model" class="btn-primary font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2"><i class="fas fa-file-excel"></i> Download Full Model</a>
                                <a href="#" aria-label="Contact me about this project" class="btn-secondary font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2"><i class="fas fa-envelope"></i> Contact Me About This Project</a>
                            </div>
                        </article>
                    </div>
                </section>
                ${createGetInTouchHTML()}
                `;
                mainContainer.appendChild(page);
            };
            
            // --- INITIALIZE ALL PAGES ---
            createHomePage();
            createExperiencePage();
            createProjectsPage();
            createEducationPage();
            createResumePage();

            const setupProjectPage = () => {
                const activePage = document.getElementById('page-projects');
                if (!activePage) return;

                const sections = activePage.querySelectorAll('.project-section-fade-in');
                const sectionObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                sections.forEach(section => sectionObserver.observe(section));

                // Timeline Accordion Logic
                const accordionItems = activePage.querySelectorAll('.timeline-accordion-item');
                accordionItems.forEach(item => {
                    const button = item.querySelector('button');
                    const content = item.querySelector('.timeline-details');
                    const icon = item.querySelector('.accordion-icon');

                    button.addEventListener('click', () => {
                        const isActive = content.classList.contains('active');
                        
                        accordionItems.forEach(otherItem => {
                            otherItem.querySelector('.timeline-details').classList.remove('active');
                            otherItem.querySelector('.accordion-icon').classList.remove('rotate-180');
                        });

                        if (!isActive) {
                            content.classList.add('active');
                            icon.classList.add('rotate-180');
                        }
                    });
                });
            };

            // --- GLOBAL LOGIC ---
            showPage('home');
            const header = document.querySelector('header');
            let lastScrollTop = 0;
            window.addEventListener('scroll', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                header.classList.toggle('nav-hidden', scrollTop > lastScrollTop && scrollTop > header.offsetHeight);
                lastScrollTop = scrollTop;

                // Parallax visibility check
                const parallaxBanners = document.querySelectorAll('.parallax-banner');
                parallaxBanners.forEach(banner => {
                    const rect = banner.getBoundingClientRect();
                    if (rect.top < window.innerHeight && rect.bottom >= 0) {
                        banner.classList.add('visible');
                    }
                });
            }, false);

            const expTimelineItems = document.querySelectorAll('#page-experience .timeline-item');
            if (expTimelineItems.length > 0) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) entry.target.classList.add('visible');
                    });
                }, { threshold: 0.3 });
                expTimelineItems.forEach(item => observer.observe(item));
            }

            const educationCards = document.querySelectorAll('.education-card');
            if (educationCards.length > 0) {
                const eduObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) entry.target.classList.add('visible');
                    });
                }, { threshold: 0.2 });
                educationCards.forEach(card => eduObserver.observe(card));
            }
            
            const successToast = document.getElementById('success-toast');
            const contactForms = document.querySelectorAll('.contact-form');
            contactForms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const formData = new FormData(this);
                    fetch(this.action, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } })
                    .then(response => { 
                        if (response.ok) { 
                            successToast.classList.add('show'); 
                            setTimeout(() => successToast.classList.remove('show'), 4000);
                            form.reset(); 
                        } 
                    }).catch(error => console.error("Error.", error)); 
                });
            });

            function handleScrollAnimations() {
                const expTimelineContainer = document.getElementById('experience-timeline-container');
                if (expTimelineContainer && document.getElementById('page-experience').classList.contains('active')) {
                    const movingIcon = document.getElementById('timeline-moving-icon');
                    const timelineProgress = document.getElementById('timeline-progress-exp');
                    const timelineItems = document.querySelectorAll('#page-experience .timeline-item');
                    if (!movingIcon || !timelineProgress || timelineItems.length === 0) return;
                    const containerRect = expTimelineContainer.getBoundingClientRect();
                    const containerHeight = expTimelineContainer.offsetHeight;
                    const iconHeight = movingIcon.offsetHeight;
                    const viewportCenterY = window.innerHeight / 2;
                    let targetTop = 0;
                    for (let i = timelineItems.length - 1; i >= 0; i--) {
                        const item = timelineItems[i];
                        const itemRect = item.getBoundingClientRect();
                        if (itemRect.top + (item.offsetHeight / 2) < viewportCenterY) {
                            targetTop = item.offsetTop + (item.offsetHeight / 2) - (iconHeight / 2);
                            break;
                        }
                    }
                    if (containerRect.bottom < viewportCenterY) targetTop = containerHeight - iconHeight; 
                    else if (containerRect.top > viewportCenterY) targetTop = 0;
                    const finalPosition = Math.max(0, Math.min(containerHeight - iconHeight, targetTop));
                    movingIcon.style.top = `${finalPosition}px`;
                    timelineProgress.style.height = `${finalPosition}px`;
                }
            }
            window.addEventListener('scroll', handleScrollAnimations);

            const accordionItems = document.querySelectorAll('.accordion-item');
            accordionItems.forEach(item => {
                const header = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                header.addEventListener('click', () => {
                    const isActive = item.classList.contains('active');
                    accordionItems.forEach(otherItem => {
                        otherItem.classList.remove('active');
                        otherItem.querySelector('.accordion-content').style.maxHeight = null;
                    });
                    if (!isActive) {
                        item.classList.add('active');
                        content.style.maxHeight = content.scrollHeight + 'px';
                    }
                });
            });

            const canvas = document.getElementById('finance-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            const symbols = ['$', '%', '▲', '▼', '📈', '📉'];
            const mouse = {
                x: null,
                y: null,
                radius: 180
            };

            window.addEventListener('mousemove', (event) => {
                mouse.x = event.x;
                mouse.y = event.y;
            });
             window.addEventListener('mouseout', () => {
                mouse.x = null;
                mouse.y = null;
            });

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            function createParticles() {
                particles = [];
                let numberOfParticles = (canvas.width * canvas.height) / 20000;
                for (let i = 0; i < numberOfParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        vx: (Math.random() - 0.5) * 0.3,
                        vy: (Math.random() - 0.5) * 0.3,
                        size: Math.random() * 2 + 10,
                        symbol: symbols[Math.floor(Math.random() * symbols.length)]
                    });
                }
            }

            function connectParticles() {
                for (let a = 0; a < particles.length; a++) {
                    for (let b = a; b < particles.length; b++) {
                        let dx = particles[a].x - particles[b].x;
                        let dy = particles[a].y - particles[b].y;
                        let distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 120) {
                            ctx.strokeStyle = 'rgba(209, 164, 110, ' + (1 - distance/120) + ')';
                            ctx.lineWidth = 0.6;
                            ctx.beginPath();
                            ctx.moveTo(particles[a].x, particles[a].y);
                            ctx.lineTo(particles[b].x, particles[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particles.length; i++) {
                    let p = particles[i];
                    p.x += p.vx;
                    p.y += p.vy;

                    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

                    // Mouse interaction
                    if (mouse.x && mouse.y) {
                        let dx = mouse.x - p.x;
                        let dy = mouse.y - p.y;
                        let distance = Math.sqrt(dx * dx + dy * dy);
                        if (distance < mouse.radius) {
                           p.x -= dx / 18;
                           p.y -= dy / 18;
                        }
                    }

                    ctx.fillStyle = `rgba(70, 56, 99, 0.5)`;
                    ctx.font = `${p.size}px Montserrat`;
                    ctx.fillText(p.symbol, p.x, p.y);
                }
                connectParticles();
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => {
                resizeCanvas();
                createParticles();
            });

            resizeCanvas();
            createParticles();
            animate();
            
            // Lightbox functionality
            const lightbox = document.getElementById('lightbox');
            const lightboxClose = document.getElementById('lightbox-close');
            
            window.openLightbox = function(src) {
                const lightboxImg = document.getElementById('lightbox-img');
                if (lightbox && lightboxImg) {
                    lightboxImg.src = src;
                    lightbox.classList.remove('hidden');
                    lightbox.classList.add('flex');
                }
            }

            function closeLightbox() {
                if (lightbox) {
                    lightbox.classList.add('hidden');
                    lightbox.classList.remove('flex');
                }
            }

            if (lightbox && lightboxClose) {
                lightboxClose.addEventListener('click', closeLightbox);
                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) {
                        closeLightbox();
                    }
                });
            }

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeLightbox();
                }
            });

        });
    </script>
</body>
</ht
